(this.webpackJsonpcontrolpanel=this.webpackJsonpcontrolpanel||[]).push([[0],{381:function(e,t,n){e.exports=n(752)},386:function(e,t,n){},388:function(e,t,n){},674:function(e,t){},708:function(e,t){},721:function(e,t){},723:function(e,t){},752:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,s,u,l,m,d,p,h,f=n(0),g=n.n(f),b=n(74),v=n.n(b),E=(n(386),n(3)),y=n.n(E),k=n(6),O=n(9),j=(n(388),n(774)),w=n(370),x=n(771),C=n(754),I=n(75),A=n(2),T={isLoggedIn:!1,loggingIn:!1,modalOpen:!1,dispatch:function(e){}},S=function(e,t){switch(t.type){case"attempt":return Object(A.a)(Object(A.a)({},e),{},{loggingIn:!0,isLoggedIn:!1});case"failure":return Object(A.a)(Object(A.a)({},e),{},{loggingIn:!1,isLoggedIn:!1});case"logout":return Object(A.a)(Object(A.a)({},e),{},{loggingIn:!1,isLoggedIn:!1,modalOpen:!1});case"openModal":return Object(A.a)(Object(A.a)({},e),{},{modalOpen:!0});case"success":return Object(A.a)(Object(A.a)({},e),{},{loggingIn:!1,isLoggedIn:!0,modalOpen:!1});default:return console.log("loginContext default",t),e}},N=Object(f.createContext)(T),P=function(e){var t=Object(f.useReducer)(S,T),n=Object(O.a)(t,2),a=n[0],r=n[1],c=Object(A.a)(Object(A.a)({},a),{},{dispatch:r});return g.a.createElement(N.Provider,{value:c},e.children)},B=(n(343),n(21));!function(e){e.currentAction="currentAction",e.fetchAttempt="fetchAttempt",e.failed="failed",e.setActions="setActions",e.setAction="setAction",e.setActive="setActive"}(a||(a={})),function(e){e.accept="accept",e.addExistingAlbum="addExistingAlbum",e.createNewAlbum="createNewAlbum",e.delete="delete",e.deleteAlbum="deleteAlbum",e.fetchAlbumsAttempt="fetchAlbumsAttempt",e.fetchAlbumsFailure="fetchAlbumsFailure",e.fetchAlbumsSuccess="fetchAlbumsSuccess",e.pending="pending",e.reject="reject",e.report="report",e.removeImage="removeImage",e.setAlbum="setAlbum",e.setDescription="setDescription",e.setFetchingImageQueue="setFetchingImageQueue",e.setHash="setHash",e.setImageQueue="setImageQueue",e.setName="setName",e.setReview="setReview",e.setStatus="setStatus"}(r||(r={})),function(e){e.pending="PENDING",e.accepted="ACCEPTED",e.rejected="REJECTED",e.reported="REPORTED"}(c||(c={})),function(e){e.accessToken="accessToken",e.access_token="access_token",e.access_token_secret="access_token_secret",e.bearerToken="bearerToken",e.clientId="clientId",e.clientSecret="clientSecret",e.consumerKey="consumerKey",e.consumerSecret="consumerSecret"}(i||(i={})),function(e){e.failed="failed",e.fetching="fetching",e.setCurrent="setCurrent",e.setApis="setApis",e.setApi="setApi"}(o||(o={})),function(e){e.decreaseInterval="decreaseInterval",e.increaseInterval="increaseInterval",e.fetchAttempt="fetchAttempt",e.fetchFailure="fetchFailure",e.fetchSuccess="fetchSuccess",e.runOnce="runOnce",e.setBotName="setBotName",e.setCookies="setCookies",e.setInterval="setInterval",e.setSigLinkInstructions="setSigLinkInstructions",e.setSigShowText="setSigShowText",e.setSigText="setSigText",e.setRunning="setRunning",e.setTimer="setTimer",e.setValueAttempt="setValueAttempt",e.setValueFailure="setValueFailure",e.setValueSuccess="setValueSuccess",e.start="start",e.stop="stop",e.testCookies="testCookies"}(s||(s={})),function(e){e.APIs="APIs",e.settings="settings"}(u||(u={})),function(e){e.addEvent="addEvent",e.failed="failed",e.setListening="setListening"}(l||(l={})),function(e){e.apiMessage="apiMessage",e.array="array",e.botStatus="botStatus",e.error="error",e.instructions="instructions",e.timeLeft="timeLeft",e.link="link",e.post="post",e.setting="setting",e.threads="threads",e.text="text"}(m||(m={})),function(e){e.done="done",e.failed="failed",e.fetchAttempt="fetchAttempt",e.setBotName="setBotName",e.setInstructions="setInstructions"}(d||(d={})),function(e){e.attempt="attempt",e.failure="failure",e.logout="logout",e.openModal="openModal",e.success="success"}(p||(p={})),function(e){e.addThread="addThread",e.currentThread="currentThread",e.failed="failed",e.fetchAttempt="fetchAttempt",e.setBookmarked="setBookmarked",e.setName="setName",e.setThreads="setThreads"}(h||(h={}));var D={avatar:"https://fi.somethingawful.com/safs/titles/58/73/00226364.0001.jpg",id:226364,name:"Patient Zero Cool",profile:"https://forums.somethingawful.com/member.php?action=getinfo&userid=226364",regDate:"Apr 24, 2020",title:""},F=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"setValue",JSON.stringify(t),e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,c,i,o,s,u,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.actions,c=t.action,i=t.index,o=r[c],(s=Object(B.a)(o.triggers)).splice(i,1),u=Object(A.a)(Object(A.a)({},o),{},{triggers:s}),n({type:a.setAction,key:c,value:u}),l=K({action:c,index:i}),e.next=9,F({configKeys:l,value:s});case 9:e.sent||n({type:a.setAction,key:c,value:o});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e,t,n){if(0!==t.toString().indexOf("__REGEXP "))return t;try{var a=t.split("__REGEXP ")[1].match(/\/(.*)\/(.*)?/),r=new RegExp(a[1],a[2]||"");return!!n||r}catch(c){return!n&&"failedRegex"}},z=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,c,i,o,s,u,l,m,d,p,h,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,r=t.actions,c=t.action,i=t.index,o=t.trigger,s=r[c],u="".concat("__REGEXP ").concat(o),l=o instanceof RegExp,e.prev=4,m=_(0,u,!0),l||m){e.next=8;break}return e.abrupt("return");case 8:return(d=Object(B.a)(s.triggers)).splice(i,1,l?o.toString():_(0,u)),console.log("triggers are now",d),p=Object(A.a)(Object(A.a)({},s),{},{triggers:d}),n({type:a.setAction,key:c,value:p}),h=K({action:c,index:i}),e.next=16,F({configKeys:h,value:l?o.toString():u});case 16:return(f=e.sent)||n({type:a.setAction,key:c,value:s}),e.abrupt("return",f);case 21:return e.prev=21,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,c,i,o,s,u,l,m,d,p,h;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,r=t.actions,c=t.action,i=t.index,o=t.value,s=r[c],u="".concat("__REGEXP ").concat(o),l=Object(B.a)(s.triggers),m=l[i]instanceof RegExp,e.prev=5,d=_(0,u,!0),!m||d){e.next=9;break}return e.abrupt("return");case 9:return l.splice(i,1,m?_(0,u):o),p=Object(A.a)(Object(A.a)({},s),{},{triggers:l}),n({type:a.setAction,key:c,value:p}),h=K({action:c,index:i}),e.next=15,F({configKeys:h,value:m?u:o});case 15:e.sent||n({type:a.setAction,key:c,value:s}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),console.log("there was an error setting trigger");case 22:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(t){return e.apply(this,arguments)}}(),K=function(e){var t=e.action,n=e.index;return void 0===n?["actions",t,"triggers"]:["actions",t,"triggers",n.toString()]},H=function(){var e=Object(k.a)(y.a.mark((function e(t,n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"".concat(ke).concat(t),e.abrupt("return",{status:200,json:function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(k.a)(y.a.mark((function e(t,n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),M=H,Q=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dispatch,a=t.hash,n({type:r.accept,hash:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dispatch,a=t.hash,n({type:r.reject,hash:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.album,a=t.dispatch,c=t.description,a({type:r.createNewAlbum,album:n,description:c}),a({type:r.setAlbum,album:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"deleteAlbum",e.next=3,M("deleteAlbum",!0,{album:t});case 3:return n=e.sent,e.abrupt("return",200===(null===n||void 0===n?void 0:n.status));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.album,(0,t.dispatch)({type:r.deleteAlbum,album:n}),V(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(k.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"albums",e.next=3,W("albums");case 3:return t=e.sent,n=null===t||void 0===t?void 0:t.albums,a=null===t||void 0===t?void 0:t.imageQueue,e.abrupt("return",{albums:n,imageQueue:a});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:r.fetchAlbumsAttempt}),e.next=3,U();case 3:n=e.sent,a=n.albums,c=n.imageQueue,t(a?{type:r.fetchAlbumsSuccess,albums:a,imageQueue:c}:{type:r.fetchAlbumsFailure});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.setRunning,running:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:s.start});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dispatch,t.on,t.running,n({type:s.stop}),n({type:s.setRunning,running:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ee,te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=null;return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return clearTimeout(n),new Promise((function(a){n=setTimeout((function(){return a(e.apply(void 0,r))}),t)}))}}(function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={interval:t},"setBotInterval",e.next=4,M("setBotInterval",!0,n);case 4:return a=e.sent,e.abrupt("return",200===(null===a||void 0===a?void 0:a.status));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),400),ne=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.setCookies,cookies:{exist:!0,refreshing:!1,work:void 0,testing:!1}}),"clearCookies",e.next=4,M("clearCookies");case 4:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===n;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=n.status;case 13:e.t3=e.t2,a=200===e.t3,r={exist:!a,refreshing:!1,work:void 0,testing:!1},t({type:s.setCookies,cookies:r});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.setCookies,cookies:{exist:!1,refreshing:!0,work:void 0,testing:!1}}),"refreshCookies",e.next=4,M("refreshCookies");case 4:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===n;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=n.status;case 13:e.t3=e.t2,a=200===e.t3,r={exist:a,refreshing:!1,work:!!a||void 0,testing:!1},t({type:s.setCookies,cookies:r});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.testCookies}),"testCookies",e.next=4,M("testCookies");case 4:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===n;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=n.status;case 13:e.t3=e.t2,a=200===e.t3,r={exist:!0,refreshing:!1,work:!!a,testing:!1},t({type:s.setCookies,cookies:r});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(k.a)(y.a.mark((function e(t,n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"".concat(ke).concat(t),e.abrupt("return",{status:200,json:function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(k.a)(y.a.mark((function e(t,n,a){var r,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ce(t,n,a)){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,r;case 5:return c=e.sent,e.prev=6,e.next=9,null===c||void 0===c?void 0:c.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,a){return e.apply(this,arguments)}}(),oe=ce,se=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r,c,i,o,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:d.fetchAttempt}),"instructions",e.next=4,ie("instructions");case 4:n=e.sent,a=(null===n||void 0===n?void 0:n.actions)?JSON.parse(n.actions,_):[],r=(null===n||void 0===n?void 0:n.albums)||[],c=(null===n||void 0===n?void 0:n.bot)||D,i=(null===n||void 0===n?void 0:n.general)||"",o=(null===n||void 0===n?void 0:n.homepage)||"",s=(null===n||void 0===n?void 0:n.threads)||[],t({type:d.setInstructions,instructions:{actions:a,albums:r,bot:c,general:i,homepage:o,threads:s}}),t({type:d.done});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(k.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"saveInstructions",e.next=3,oe("saveInstructions");case 3:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===t;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=t.status;case 12:return e.t3=e.t2,(n=200===e.t3)?console.log("instructions saved"):console.log("failed to save instructions"),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){try{return localStorage.removeItem("token"),!0}catch(e){return console.error("couldn't delete login token",e),!1}},me=function(e){if(e)try{return localStorage.setItem("token",e),!0}catch(t){return console.error("couldn't store login token",t),!1}},de=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.dispatch)({type:p.attempt});try{me("placeholder token")?n({type:p.success}):n({type:p.failure})}catch(a){n({type:p.failure})}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le(),t({type:p.logout});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"unbookmarkThread",e.next=3,M("unbookmarkThread",!0,{threadId:t});case 3:return n=e.sent,e.abrupt("return",200===(null===n||void 0===n?void 0:n.status));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,a=t.threadId,n({type:h.setBookmarked,threadId:a,value:!1}),e.next=4,he(a);case 4:!e.sent&&n({type:h.setBookmarked,threadId:a,value:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"bookmarkThread",e.next=3,M("bookmarkThread",!0,{threadId:t});case 3:return n=e.sent,e.abrupt("return",200===(null===n||void 0===n?void 0:n.status));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,a=t.threadId,n({type:h.setBookmarked,threadId:a,value:!0}),e.next=4,ge(a);case 4:return!(r=e.sent)&&n({type:h.setBookmarked,threadId:a,value:!1}),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=t.threadId,"markLastRead",e.next=4,M("markLastRead",!0,{page:n,threadId:a});case 4:return r=e.sent,e.abrupt("return",200===(null===r||void 0===r?void 0:r.status));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e=Math.ceil(e),(t=Math.floor(t))<e&&(t=e+1),Math.floor(Math.random()*(t-e+1))+e},ye=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dispatch,a=t.threads,r=a.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{unreadPosts:e.unreadPosts+Ee(0,15)})})),n({type:h.setThreads,threads:r});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke="http://localhost:3001/api/v1/",Oe=function(){var e=Object(f.useContext)(N),t=e.modalOpen,n=e.loggingIn,a=e.dispatch,r=Object(f.useState)(""),c=Object(O.a)(r,2);c[0],c[1];return g.a.createElement(x.a,{open:t},g.a.createElement(j.a,{icon:"lock",content:"Login to see controls"}),g.a.createElement(x.a.Content,null,g.a.createElement(j.a,null,'Click "Yes" to login')),g.a.createElement(x.a.Actions,null,g.a.createElement(C.a,{basic:!0,color:"red",onClick:function(){return pe(a)}},g.a.createElement(I.a,{name:"remove"})," No"),n?g.a.createElement(C.a,{color:"green",loading:!0}):g.a.createElement(C.a,{color:"green",onClick:function(){return de({dispatch:a})}},g.a.createElement(I.a,{name:"checkmark"})," Yes")))},je=n(30),we=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];console.log(e,n||"no content attached")},xe={api:"",APIs:void 0,fetching:[],hasFailed:[],pending:[],settings:{botName:"zeroCool",interval:2,on:!0,sigLinkInstructions:!0,sigShowText:!0,sigText:"Hack the planet!!",running:!1,cookies:{exist:!0,refreshing:!1,testing:!1}},timer:{minutes:2,seconds:0},dispatch:function(e){}},Ce=function(e){return e<2?void 0:e},Ie=function(e,t){switch(t.type){case"decreaseInterval":if(e.settings){var n=Object(A.a)({},e.settings),a=n.interval,r=Ce(a-1);return n.interval=r||a,Object(A.a)(Object(A.a)({},e),{},{settings:n})}return e;case"increaseInterval":if(e.settings){var c=Object(A.a)({},e.settings),i=c.interval,o=Ce(i+1);return c.interval=o||i,Object(A.a)(Object(A.a)({},e),{},{settings:c})}return e;case"fetchAttempt":var s=t.key;return Object(A.a)(Object(A.a)({},e),{},Object(je.a)({hasFailed:e.hasFailed.filter((function(e){return e!==s})),fetching:[].concat(Object(B.a)(e.fetching),[s])},s,void 0));case"fetchFailure":var u=t.key;return Object(A.a)(Object(A.a)({},e),{},Object(je.a)({hasFailed:[].concat(Object(B.a)(e.hasFailed),[u]),fetching:e.fetching.filter((function(e){return e!==u}))},u,void 0));case"fetchSuccess":var l=t.content,m=t.key;return Object(A.a)(Object(A.a)({},e),{},Object(je.a)({hasFailed:e.hasFailed.filter((function(e){return e!==m})),fetching:e.fetching.filter((function(e){return e!==m}))},m,l));case"setBotName":if(e.settings){var d=Object(A.a)({},e.settings),p=t.botName;return d.botName=p,Object(A.a)(Object(A.a)({},e),{},{settings:d})}return e;case"setCookies":if(e.settings){var h=Object(A.a)({},e.settings),f=t.cookies;return h.cookies=f,Object(A.a)(Object(A.a)({},e),{},{settings:h})}return e;case"setInterval":if(e.settings){var g=t.interval,b=Ce(g),v=Object(A.a)({},e.settings);return v.interval=b||g,Object(A.a)(Object(A.a)({},e),{},{settings:v})}return e;case"setRunning":var E=t.running;if(e.settings){var y=Object(A.a)(Object(A.a)({},e.settings),{},{running:E});return Object(A.a)(Object(A.a)({},e),{},{settings:y})}return e;case"setSigLinkInstructions":if(e.settings){var k=Object(A.a)({},e.settings),O=t.sigLinkInstructions;return k.sigLinkInstructions=O,Object(A.a)(Object(A.a)({},e),{},{settings:k})}return e;case"setSigShowText":if(e.settings){var j=Object(A.a)({},e.settings),w=t.sigShowText;return j.sigShowText=w,Object(A.a)(Object(A.a)({},e),{},{settings:j})}return e;case"setSigText":if(e.settings){var x=Object(A.a)({},e.settings),C=t.sigText;return x.sigText=C,Object(A.a)(Object(A.a)({},e),{},{settings:x})}return e;case"setTimer":var I=t.timer;return Object(A.a)(Object(A.a)({},e),{},{timer:I});case"start":if(e.settings){var T=Object(A.a)({},e.settings);return T.on=!0,Object(A.a)(Object(A.a)({},e),{},{settings:T})}return e;case"stop":if(e.settings){var S=Object(A.a)({},e.settings);return S.on=!1,Object(A.a)(Object(A.a)({},e),{},{settings:S})}return e;case"testCookies":if(e.settings){var N=Object(A.a)({},e.settings);return N.cookies=Object(A.a)(Object(A.a)({},N.cookies),{},{testing:!0}),Object(A.a)(Object(A.a)({},e),{},{settings:N})}return e;default:return we("botContext reducer received bad action",t),e}},Ae=Object(f.createContext)(xe),Te=function(e){var t=e.children,n=e.testState,a=(e.testDispatch,Object(f.useReducer)(Ie,n||xe)),r=Object(O.a)(a,2),c=r[0],i=r[1],o=Object(A.a)(Object(A.a)({},c),{},{dispatch:i});return g.a.createElement(Ae.Provider,{value:o},t)},Se={actions:[{albums:!0,example:"zeroCool add ${album}",instructions:"# Add Image to Album\r\n\r\nYou can request to add an image to one of the albums that the bot uses. The bot will add all images in a post and/or in quoted posts to the image review queue. If the person running the bot approves an image, it will be added to the album.  ",key:"AddImageToAlbum",name:"Add Image to Album",triggers:[/^\\badd\\b/i]},{albums:!1,instructions:"# Death Toll\r\n\r\nzeroCool can tell you all about coronavirus. This handy action scrapes the CDC.gov website and posts the current U.S. Coronavirus Death Toll. It also posts the total number of coronavirus cases.",key:"DeathToll",name:"Death Toll",triggers:["deathtoll","death toll"]},{example:"zeroCool, zoom in on that",instructions:"# Closer\r\n\r\nZooms in on image, uploads it to imgur, and posts the zoomed in image.",key:"ImageCloser",name:"Zoom in on Image",triggers:["closer",/^zoom/]},{albums:!0,example:"zeroCool gimme ${album}\r\n\r\nzeroCool gimme a ${album}\r\n\r\nzeroCool give me ${album}",instructions:"# Get Image From Album\r\n\r\nYou can request a random image from one of the albums that the bot uses. The bot will quote your post and post one of the images from the requested album.",key:"ImageFromAlbum",name:"Get Image From Album",triggers:[/^\\bgimme\\b/i,/^\\bgimmie\\b/i,/^give me/i]},{instructions:"# Redder\r\n\r\nRaises the red levels of an image, hosts it on imgur, and posts it.",key:"ImageRedder",name:"Redden image",triggers:["redder"]},{instructions:"# Wider\r\n\r\nWidens an image, hosts it on imgur, and posts it.",key:"ImageWider",name:"Widen Image",triggers:["wider"]},{example:"The regular expression will grab any post that starts with zeroCool and contains the word 'matter'\r\n\r\nzeroCool matter\r\n\r\nzeroCool, does anything matter?\r\n\r\nzeroCool, what's the matter?",instructions:"# None of this matters\r\n\r\nA bleak philosophical outlook.\r\n\r\n![](https://i.imgur.com/yX9KZ49.jpg)",key:"NoneAThisMatters",name:"None a this matters",triggers:[/matter/gi]},{instructions:"# Cat Picture\r\n\r\nUses [the cat api](http://www.thecatapi.com) to post a random picture of a cat. \r\n\r\n![](https://cdn2.thecatapi.com/images/2fp.jpg)",key:"PostCat",name:"Cat Pictures",triggers:["kittycat"]},{instructions:"# Trump Tweet\r\n\r\nPosts the latest tweet from the president. Needs a bit more work telling tweets from re-tweets.",key:"PostTrumpTweet",name:"Trump Tweet",triggers:["what's trumping","what's trumpin","whats trumping","whats trumpin"]},{instructions:"# Smiley\r\n\r\nPosts a random SA Smiley.",key:"SASmiley",name:"Smiley",triggers:["smiley"]},{example:"zeroCool hat wobble",instructions:"# Tayne\r\n\r\nA wonderful gif of Tayne doing a hat wobble.\r\n\r\n![](https://i.imgur.com/5oCbDFL.gif)",key:"Tayne",name:"Tayne",triggers:["tayne",/hat wobble/gi]},{example:"The regular expression will grab any post that starts with zeroCool and contains the word 'thoughts'\r\n\r\nzeroCool thoughts\r\n\r\nzeroCool, what are your thoughts on this?\r\n\r\nzeroCool, what do you think?",instructions:"# Thoughts\r\n\r\nUses [deepai text generator](https://deepai.org/machine-learning-model/text-generator) to produce zeroCool's thoughts about anything. ",key:"Thoughts",name:"Thoughts",triggers:[/thoughts/gi,/think/gi]},{instructions:"# Trump Weight\r\n\r\nGives the official regime figures for trump weight and height. Needs to be updated as of mid 2020.",key:"TrumpWeight",name:"Trump weight",triggers:[/\\btrump\\b.*?(weight|bmi|fat)/gi]},{example:"The regular expression will grab any post that starts with zeroCool and then the @ character\r\n\r\nzeroCool @nationalGeographic\r\n\r\nzeroCool, @PossumEveryHour",instructions:"# Tweet\r\n\r\nPosts the latest tweet from the requested twitter account.",key:"Tweet",name:"Post Tweet",triggers:[/^@/]},{instructions:"# What is love?\r\n\r\nBaby don't hurt me\r\n\r\nDon't hurt me\r\n\r\nNo more\r\n\r\n![](https://i.imgur.com/qXcDIBl.gif)\r\n\r\nThis incredibly useful action posts a gif from night at the roxbury",key:"WhatIsLove",name:"What is Love?",triggers:["what is love"]}],albums:[{album:"Schnorkles",description:"Insane in the Poll Plane (Insane in the Brain!)"},{album:"Snoo",description:"You think you're too good to look at rats? YOU AREN'T!!!"},{album:"Corn",description:"Pictures of corn are funny for this one afternoon"},{album:"Trump",description:"unfortunately"}],bot:D,botName:"zeroCool",done:!0,fetching:!1,failed:!1,general:"# How to use zeroCool, an SA Forums Bot\r\n\r\nzeroCool reads and responds to posts on SA automatically. Here is a list of the responses that it can make. To use the bot, just post in a thread that the bot is reading. If your post matches one of the action triggers, then the bot will respond to your post.\r\n",homepage:"https://jacobwicks.github.io/forumsBotInstructions",threads:[],dispatch:function(e){}},Ne=function(e,t){switch(t.type){case"done":return Object(A.a)(Object(A.a)({},e),{},{done:!0,fetching:!1});case"failed":return Object(A.a)(Object(A.a)({},e),{},{actions:[],albums:[],done:!0,fetching:!1,failed:!0,general:""});case"fetchAttempt":return Object(A.a)(Object(A.a)({},e),{},{fetching:!0});case"setBotName":var n=t.botName;return Object(A.a)(Object(A.a)({},e),{},{botName:n});case"setInstructions":var a=t.instructions,r=a.actions,c=a.albums,i=a.bot,o=a.general,s=a.homepage,u=a.threads;return Object(A.a)(Object(A.a)({},e),{},{failed:!1,fetching:!1,actions:r,albums:c,bot:i,general:o,homepage:s,threads:u});default:return console.log("InstructionsContext default",t),e}},Pe=Object(f.createContext)(Se),Be=function(e){var t=e.children,n=e.testState,a=(e.testDispatch,Object(f.useReducer)(Ne,n||Se)),r=Object(O.a)(a,2),c=r[0],i=r[1],o=Object(A.a)(Object(A.a)({},c),{},{dispatch:i});return g.a.createElement(Pe.Provider,{value:o},t)},De=function(){var e=Object(f.useContext)(N),t=e.dispatch;return e.isLoggedIn?g.a.createElement(I.a,{title:"Bot Instructions Page",name:"file outline",link:!0,onClick:function(){return pe(t)},size:"large"}):g.a.createElement(I.a,{title:"Bot Control Panel",name:"setting",link:!0,onClick:function(){return t({type:p.openModal})},size:"large"})},Fe=n(772),Re=function(){var e=Object(f.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(f.useState)(!1),c=Object(O.a)(r,2),i=c[0],o=c[1];return g.a.createElement(Fe.a,{content:n?"Saving Instructions":i?"Error saving":"Save instructions and upload to GitHub Pages",trigger:g.a.createElement(I.a,{loading:n,name:i?"exclamation circle":"save",size:"large",style:{cursor:n?void 0:"pointer"},onClick:Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=7;break}return a(!0),e.next=4,ue();case 4:t=e.sent,a(!1),!t&&o(!0);case 7:case"end":return e.stop()}}),e)})))})})},_e=function(){var e=Object(f.useContext)(Pe).homepage;return e?g.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"Instructions hosted on GitHub Pages"):g.a.createElement(g.a.Fragment,null)},ze=function(){var e=Object(f.useContext)(Ae).settings,t=Object(f.useContext)(Pe).botName,n=Object(f.useState)(t||((null===e||void 0===e?void 0:e.botName)?e.botName:"")),a=Object(O.a)(n,2),r=a[0],c=a[1];return Object(f.useEffect)((function(){e&&c(e.botName)}),[e]),g.a.createElement(j.a,{size:"large",content:"".concat(r,", an SA Forums Bot")})},Le=[g.a.createElement(De,null),g.a.createElement(ze,null),g.a.createElement(Re,null),g.a.createElement(_e,null)].map((function(e,t){return g.a.createElement(w.a.Item,{key:t},e)})),Ke=function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.a,{children:Le,color:"green",inverted:!0}),g.a.createElement(Oe,null))},He=n(776),We=n(773),Me=n(112),Qe=function(e){var t=e.labelColor,n=e.name,a=e.selectAction;return g.a.createElement("div",{style:{cursor:"pointer",padding:10},onClick:a},g.a.createElement(Me.a,{color:t},n))},Ge={actions:{AddImageToAlbum:{albums:!0,active:!0,name:"Add Image to Album",triggers:[/^\\badd\\b/i]},DeathToll:{albums:!1,active:!0,name:"Death Toll",triggers:["deathtoll","death toll"]},ImageCloser:{albums:!1,active:!0,name:"Zoom in on Image",triggers:["closer",/^zoom/]},ImageFromAlbum:{albums:!0,active:!0,name:"Get Image From Album",triggers:[/^\\bgimme\\b/i,/^\\bgimmie\\b/i,/^give me/i]},ImageRedder:{albums:!1,active:!0,name:"Redden image",triggers:["redder"]},ImageWider:{albums:!1,active:!0,name:"Widen Image",triggers:["wider"]},NoneAThisMatters:{albums:!1,active:!0,name:"None a this matters",triggers:[/matter/gi]},PostCat:{albums:!1,active:!0,name:"Cat Pictures",triggers:["kittycat"]},PostTrumpTweet:{albums:!1,active:!0,name:"Trump Tweet",triggers:["what's trumping","what's trumpin","whats trumping","whats trumpin"]},SASmiley:{albums:!1,active:!0,name:"Smiley",triggers:["smiley"]},Tayne:{albums:!1,active:!0,name:"Tayne",triggers:["tayne",/hat wobble/gi]},Thoughts:{albums:!1,active:!0,name:"Thoughts",triggers:[/thoughts/gi,/think/gi]},TrumpWeight:{albums:!1,active:!0,name:"Trump weight",triggers:[/\\btrump\\b.*?(weight|bmi|fat)/gi]},Tweet:{albums:!1,active:!0,name:"Post Tweet",triggers:[/^@/]},WhatIsLove:{albums:!1,active:!0,name:"What is Love?",triggers:["what is love"]}},failed:!1,fetching:!1,dispatch:function(e){}},Ye=function(e,t){switch(t.type){case"currentAction":var n=t.key;return Object(A.a)(Object(A.a)({},e),{},{action:n});case"failed":return Object(A.a)(Object(A.a)({},e),{},{failed:!0,fetching:!1,actions:{}});case"fetchAttempt":return Object(A.a)(Object(A.a)({},e),{},{fetching:!0});case"setAction":var a=t.key,r=t.value,c=Object(A.a)({},e.actions);return c[a]=r,Object(A.a)(Object(A.a)({},e),{},{actions:c});case"setActions":var i=t.actions;return Object(A.a)(Object(A.a)({},e),{},{failed:!1,fetching:!1,actions:i});case"setActive":var o=t.key,s=t.value,u=Object(A.a)({},e.actions),l=Object(A.a)({},u[o]);return l.active=s,u[o]=l,Object(A.a)(Object(A.a)({},e),{},{actions:u});default:return console.log("actionsContext default",t),e}},Ve=Object(f.createContext)(Ge),qe=function(e){var t=e.children,n=e.testState,a=(e.testDispatch,Object(f.useReducer)(Ye,n||Ge)),r=Object(O.a)(a,2),c=r[0],i=r[1],o=Object(A.a)(Object(A.a)({},c),{},{dispatch:i});return g.a.createElement(Ve.Provider,{value:o},t)},Ue=function(){var e=Object(f.useContext)(Ve),t=e.dispatch,n=e.actions,r=e.action;return g.a.createElement(g.a.Fragment,null,Object.entries(n).sort((function(e,t){return e[1].name.localeCompare(t[1].name)})).map((function(e){var n=Object(O.a)(e,2),c=n[0],i=n[1],o=i.active,s=i.name,u=c===r?"green":o?"blue":void 0;return g.a.createElement(Qe,{labelColor:u,name:s,key:c,selectAction:function(){return t({type:a.currentAction,key:c})}})})))},Xe=n(217),Ze=n(371),Je=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"setProperty",JSON.stringify(t),e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(e){var t=e.dispatch,n=e.actions;return t&&n&&n.forEach((function(e){return t(e)}))},et=n(765),tt=function(e){var t=e.handleBlur,n=e.value;return g.a.createElement(et.a,{"data-testid":"status",checked:!!n,onChange:function(e,n){var a=n.checked;return t(!!a)}})},nt=n(766),at=function(e){var t=e.handleBlur,n=e.password,a=e.setTemp,r=e.temp;return g.a.createElement(nt.a,{onBlur:function(e){var n=e.target;t(n.value)},onKeyPress:function(e){"Enter"===e.key&&t(r)},onChange:function(e){var t=e.target;return a(t.value)},type:n?"password":void 0,value:r})},rt=n(770),ct=n(767),it=function(e){var t=e.handleBlur,n=e.temp,a=e.setTemp;return g.a.createElement(rt.a,null,g.a.createElement(ct.a,{onKeyPress:function(e){"Enter"===e.key&&t(n)},value:n,onChange:function(e,t){var n=t.value;return a(n?n.toString():"")},onBlur:function(e){var n=e.target;t(n.value)}}))},ot=function(e){var t=e.configKeys,n=e.callback,a=e.checkbox,r=e.dispatch,c=e.dispatchBefore,i=e.dispatchOnFailure,o=e.dispatchOnSuccess,s=e.input,u=e.labelColor,l=e.labelText,m=e.password,d=e.renameValueTo,p=e.targetsProperty,h=e.tellParentOpen,b=e.textArea,v=e.value,E=Object(f.useState)(!1),j=Object(O.a)(E,2),w=j[0],x=j[1],T=Object(f.useState)(v),S=Object(O.a)(T,2),N=S[0],P=S[1];Object(f.useEffect)((function(){h&&h(w)}),[w,h]);var D=function(){var e=Object(k.a)(y.a.mark((function e(a){var u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!1),!n){e.next=5;break}n(a),e.next=27;break;case 5:if(!r){e.next=20;break}if($e({dispatch:r,actions:null===c||void 0===c?void 0:c.map((function(e){return d?Object(A.a)(Object(A.a)({},e),{},Object(je.a)({},d,a)):Object(A.a)(Object(A.a)({},e),{},{value:a})}))}),!p){e.next=13;break}return e.next=10,Je({configKeys:[].concat(Object(B.a)(t),[s]),value:a});case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,F({configKeys:[].concat(Object(B.a)(t),[s]),value:a});case 15:e.t0=e.sent;case 16:u=e.t0,$e(u?{dispatch:r,actions:o}:{dispatch:r,actions:i}),e.next=27;break;case 20:if(!p){e.next=25;break}return e.next=23,Je({configKeys:[].concat(Object(B.a)(t),[s]),value:a});case 23:e.next=27;break;case 25:return e.next=27,F({configKeys:[].concat(Object(B.a)(t),[s]),value:a});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=g.a.createElement(tt,{"data-testid":"status",handleBlur:D,value:v}),_=g.a.createElement(at,{handleBlur:D,temp:N,setTemp:P,password:!!m}),z=g.a.createElement(it,{handleBlur:D,temp:N,setTemp:P}),L=a?R:b||"string"===typeof v&&v.length>19?z:_;return g.a.createElement("div",{style:{marginTop:10,marginBottom:10}},g.a.createElement(C.a,{icon:!0,onClick:function(){return a?D(!v):x(!w)}},g.a.createElement(I.a,{name:"edit"})),g.a.createElement(Me.a,{size:"large",content:"".concat(l||s),color:u})," ",a||w?L:m?g.a.createElement("span",{style:{fontSize:"x-large"}},"\u2022\u2022\u2022\u2022\u2022"):v)},st=n(366),ut=n.n(st),lt=function(e){var t=null===e||void 0===e?void 0:e.maxWidth,n=new Map,a={image:function(e){var n=e.alt,a=e.src,r=e.title;return g.a.createElement("img",{alt:n,src:a,title:r,style:{maxWidth:t}})}};return g.a.createElement(ut.a,Object.assign({},e,{allowNodes:function(e){var t;return"image"===e.type&&n.set((t=e.position,JSON.stringify(t.start)),e),!0},linkTarget:"_blank",renderers:a,rawSourcePos:!0}))},mt=function(e){var t=Object(f.useCallback)((function(){var t;return null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.offsetWidth}),[e]),n=Object(f.useState)(void 0),a=Object(O.a)(n,2),r=a[0],c=a[1];return Object(f.useEffect)((function(){var n=function(){c(t())};return e.current&&c(t()),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[t,e]),r&&r>25?r-25:r},dt=function(e){return{AddImageToAlbum:"# Add Image to Album\n\nYou can request to add an image to one of the albums that the bot uses. \nThe bot will add all images in a post and/or in quoted posts to the image review queue. \nIf the person running the bot approves an image, it will be added to the album.  ",DeathToll:"# Death Toll\n\n".concat(e," can tell you all about coronavirus. \nThis handy action scrapes the CDC.gov website and posts the current U.S. Coronavirus Death Toll. \nIt also posts the total number of coronavirus cases."),ImageCloser:"# Closer\n\nZooms in on image, uploads it to imgur, and posts the zoomed in image.",ImageFromAlbum:"# Get Image From Album\n\nYou can request a random image from one of the albums that the bot uses. \nThe bot will quote your post and post one of the images from the requested album.",ImageRedder:"# Redder\n\nRaises the red levels of an image, hosts it on imgur, and posts it.",ImageWider:"# Wider\n\nWidens an image, hosts it on imgur, and posts it.",NoneAThisMatters:"# None of this matters\n\nA bleak philosophical outlook.\n    \n![](https://i.imgur.com/yX9KZ49.jpg)",PostCat:"# Cat Picture\n\nUses [the cat api](http://www.thecatapi.com) to post a random picture of a cat. \n    \n![](https://cdn2.thecatapi.com/images/2fp.jpg)",PostTrumpTweet:"# Trump Tweet\n\nPosts the latest tweet from the president.",SASmiley:"# Smiley\n\nPosts a random SA Smiley.",Tayne:"# Tayne\n\nA wonderful gif of Tayne doing a hat wobble.\n    \n![](https://i.imgur.com/5oCbDFL.gif)",Thoughts:"# Thoughts\n\nUses [deepai text generator](https://deepai.org/machine-learning-model/text-generator) to produce ".concat(e,"'s thoughts about anything. "),TrumpWeight:"# Trump Weight\n\nGives the official regime figures for trump weight and height. \nNeeds to be updated as of mid 2020.",Tweet:"# Tweet\n\nPosts the latest tweet from the requested twitter account.",WhatIsLove:"# What is love?\n\nBaby don't hurt me\n    \nDon't hurt me\n    \nNo more\n    \n![](https://i.imgur.com/qXcDIBl.gif)\n    \nThis incredibly useful action posts a gif from night at the roxbury"}},pt=function(e){var t=e.action,n=e.addChildren,a=Object(f.useContext)(Pe).botName,r=g.a.useRef(null),c=mt(r),i=Object(f.useState)(!1),o=Object(O.a)(i,2),s=o[0],u=o[1],l=dt(a)[t],m=[g.a.createElement(lt,{key:"markdown",escapeHtml:!1,source:l,maxWidth:c})];null===n||void 0===n||n.forEach((function(e,t){return m.push(Object(A.a)(Object(A.a)({},e),{},{key:t.toString()}))}));var d=!l;return g.a.createElement("div",{ref:r,style:{marginBottom:20}},g.a.createElement(Fe.a,{trigger:g.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return l&&u(!s)}},g.a.createElement(C.a,null,t),g.a.createElement(I.a,{name:"question circle"})),content:"click for instructions",disabled:s||d}),s&&g.a.createElement(Xe.a,{children:m}))},ht={marginTop:10,marginBottom:10},ft=function(){var e=Object(f.useContext)(Ve).action,t=Object(f.useContext)(Pe).botName,n=dt(t),a=g.a.useRef(null),r=mt(a),c=e&&n[e],i=!c;return g.a.createElement(Xe.a,null,i?g.a.createElement(j.a,{as:"h4"},"No example given to match regular expression trigger"):g.a.createElement("div",{ref:a},g.a.createElement(lt,{key:"markdown",escapeHtml:!1,source:c,maxWidth:r})," "))},gt=function(e){var t=e.trigger,n=Object(f.useContext)(Ae).settings,a=null===n||void 0===n?void 0:n.botName;return g.a.createElement(Xe.a,null,a," ",t.toString())},bt=function(e){var t=e.triggers,n=t.some((function(e){return e instanceof RegExp}));return t.length?g.a.createElement(Xe.a,null,g.a.createElement(j.a,{as:"h2"},"How to trigger this action"),g.a.createElement("div",{style:ht},t.map((function(e,t){return!(e instanceof RegExp)&&g.a.createElement(gt,{key:t,trigger:e})}))),n&&g.a.createElement(ft,null)):g.a.createElement(Xe.a,null,g.a.createElement(j.a,{as:"h2"},"No triggers set for this action"))},vt=function(){var e=Object(f.useContext)(Ve),t=e.dispatch,n=e.action,r=e.actions;if(!n)return g.a.createElement(g.a.Fragment,null);var c=["actions",n,"triggers"],i=function(){var e=Object(k.a)(y.a.mark((function e(){var i,o,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r[n],(o=Object(B.a)(i.triggers)).push(""),s=Object(A.a)(Object(A.a)({},i),{},{triggers:o}),t({type:a.setAction,key:n,value:s}),e.next=7,F({configKeys:c,value:o});case 7:e.sent||t({type:a.setAction,key:n,value:i});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g.a.createElement(Fe.a,{content:"Add trigger to ".concat(n),trigger:g.a.createElement(C.a,{icon:"add",onClick:function(){return i()}})})},Et=n(768),yt=function(e){var t=e.index,n=e.trigger,a=n instanceof RegExp,r=Object(f.useContext)(Ve),c=r.dispatch,i=r.action,o=r.actions,s=Object(f.useState)(!1),u=Object(O.a)(s,2),l=u[0],m=u[1],d=Object(f.useState)(!1),p=Object(O.a)(d,2),h=p[0],b=p[1],v=Object(f.useState)(n.toString()),E=Object(O.a)(v,2),j=E[0],w=E[1],x=i&&o[i].triggers.length;if(Object(f.useEffect)((function(){m(!1)}),[x,m]),!i)return g.a.createElement(Et.a,{active:!0});var A=function(e){!h&&L({dispatch:c,actions:o,action:i,index:t,value:e})},T=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,z({dispatch:c,actions:o,action:i,index:t,trigger:n});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g.a.createElement("div",{style:ht},g.a.createElement(C.a,{icon:!0,onClick:function(){return m(!l)}},g.a.createElement(I.a,{name:"edit"})),g.a.createElement(Me.a,{size:"large",content:t,color:a?"blue":void 0})," ",l?g.a.createElement(g.a.Fragment,null,g.a.createElement(nt.a,{onBlur:function(e){var t=e.target;A(t.value)},onKeyPress:function(e){"Enter"===e.key&&A(j)},onChange:function(e){var t=e.target;return w(t.value)},value:j}),g.a.createElement(Fe.a,{content:"Delete trigger ".concat(t," from ").concat(i),trigger:g.a.createElement(I.a,{name:"trash",onClick:function(){return R({dispatch:c,actions:o,action:i,index:t})},size:"large",style:{cursor:"pointer"}})}),g.a.createElement(Fe.a,{content:a?"Change to string":"Change to RegExp. Must enclose expression in forward slash characters '/' '/' and add desired flags",trigger:g.a.createElement(I.a,{name:a?"text height":"r circle",onClick:function(){return T()},size:"large",style:{cursor:"pointer"}})})):n.toString())},kt=function(e){var t=e.action,n=e.triggers;return g.a.createElement(Xe.a,null,g.a.createElement(j.a,{as:"h2"},"Triggers"),g.a.createElement(vt,null),g.a.createElement("div",{style:ht},n.map((function(e,n){return g.a.createElement(yt,{key:"".concat(n).concat(t),index:n,trigger:e})}))))},Ot=["actions"],jt=function(){return g.a.createElement("div",null,g.a.createElement(j.a,{as:"h2"},"No Action Selected"),"Actions are things that the bot can do when it receives an instruction.",g.a.createElement("br",null),"The bot receives instructions by reading posts.",g.a.createElement("br",null),"A post that begins with the botName is an instruction.",g.a.createElement("br",null),"An instruction that matches an action trigger will trigger that action.",g.a.createElement("br",null),"Most actions will cause the bot to make a post.",g.a.createElement("br",null),g.a.createElement("a",{href:"https://jacobwicks.github.io/2020/07/02/write-forums-bot-action.html",target:"_blank",rel:"noopener noreferrer"},"You can make new actions and add them to the bot."))},wt=function(){var e=Object(f.useContext)(Ve),t=e.dispatch,n=e.action,r=e.actions,c=n&&r[n];if(!c)return g.a.createElement(jt,null);var i=c.active,o=c.triggers,s=[].concat(Ot,[n]);return g.a.createElement(g.a.Fragment,null,g.a.createElement(pt,{action:n,addChildren:[g.a.createElement(bt,{triggers:o})]}),g.a.createElement(ot,{checkbox:!0,configKeys:s,dispatch:t,dispatchBefore:[{type:a.setActive,key:n}],dispatchOnFailure:[{type:a.setActive,key:n,value:i}],input:"active",value:i}),g.a.createElement(kt,{action:n,triggers:o}))},xt=function(){var e=Object(f.useContext)(Ve).dispatch;return g.a.createElement(Xe.a,null,g.a.createElement(Ze.a,{columns:2,divided:!0},g.a.createElement(Ze.a.Column,{width:4},g.a.createElement(j.a,{as:"h2",style:{cursor:"pointer"},onClick:function(){return e({type:a.currentAction,key:""})}},"Actions"," "),g.a.createElement(Ue,null)),g.a.createElement(Ze.a.Column,{width:12},g.a.createElement(wt,null))))},Ct={album:void 0,albums:{Schnorkles:{description:"Insane in the Poll Plane (Insane in the Brain!)",hash:"YFfW2VB",status:!0},Snoo:{description:"You think you're too good to look at rats? YOU AREN'T!!!",hash:"EDGl2l2",status:!0},Corn:{description:"Pictures of corn are funny for this one afternoon",hash:"XU0p9vr",status:!0}},fetching:!1,hasFailed:!1,imageQueue:[],review:!1,dispatch:function(e){}},It=function(e,t){switch(t.type){case"accept":var n=t.hash;if(e.imageQueue){var a=Object(B.a)(e.imageQueue),r=a.find((function(e){return e.hash===n}));return(null===r||void 0===r?void 0:r.status)&&(r.status=c.accepted),Object(A.a)(Object(A.a)({},e),{},{imageQueue:a})}return e;case"createNewAlbum":var i=t.album,o=t.description,s=t.hash,u=e.albums,l=Object(A.a)({},u),m={description:o||"",hash:s||"",status:!0};return l[i]=m,Object(A.a)(Object(A.a)({},e),{},{albums:l});case"delete":var d=t.hash,p=e.imageQueue;if(!p)return e;var h=p.filter((function(e){return e.hash!==d}));return Object(A.a)(Object(A.a)({},e),{},{imageQueue:h});case"deleteAlbum":var f=t.album,g=e.album,b=e.albums,v=e.imageQueue,E=g===f?void 0:g,y=Object(A.a)({},b);delete y[f];var k=null===v||void 0===v?void 0:v.filter((function(e){return e.album!==f}));return Object(A.a)(Object(A.a)({},e),{},{album:E,albums:y,imageQueue:k});case"fetchAlbumsAttempt":return Object(A.a)(Object(A.a)({},e),{},{albums:void 0,imageQueue:void 0,hasFailed:!1,fetching:!0});case"fetchAlbumsFailure":return Object(A.a)(Object(A.a)({},e),{},{albums:void 0,imageQueue:void 0,hasFailed:!0,fetching:!1});case"fetchAlbumsSuccess":var O=t.albums,j=t.imageQueue;return Object(A.a)(Object(A.a)({},e),{},{albums:O,imageQueue:j,hasFailed:!1,fetching:!1});case"pending":var w=t.hash;if(e.imageQueue){var x=Object(B.a)(e.imageQueue),C=x.find((function(e){return e.hash===w}));if(!C)return e;C.status&&(C.status=c.pending);var I=x.filter((function(e){return e.hash!==w})).push(C);return Object(A.a)(Object(A.a)({},e),{},{newImageQueue:I})}return e;case"reject":var T=t.hash;if(e.imageQueue){var S=Object(B.a)(e.imageQueue),N=S.find((function(e){return e.hash===T}));return(null===N||void 0===N?void 0:N.status)&&(N.status=c.rejected),Object(A.a)(Object(A.a)({},e),{},{imageQueue:S})}return e;case"setAlbum":var P=t.album;return Object(A.a)(Object(A.a)({},e),{},{album:P});case"setDescription":var D=t.album,F=t.value,R=e.albums;if(!R)return e;var _=Object(A.a)({},R[D]);return _.description=F,Object(A.a)(Object(A.a)({},e),{},{albums:Object(A.a)(Object(A.a)({},R),{},Object(je.a)({},D,_))});case"setFetchingImageQueue":var z=t.fetching;return Object(A.a)(Object(A.a)({},e),{},{fetching:z});case"setImageQueue":var L=t.imageQueue;return Object(A.a)(Object(A.a)({},e),{},{imageQueue:L});case"setHash":var K=t.album,H=t.value,W=e.albums;if(!W)return e;var M=Object(A.a)({},W[K]);return M.hash=H,Object(A.a)(Object(A.a)({},e),{},{albums:Object(A.a)(Object(A.a)({},W),{},Object(je.a)({},K,M))});case"setName":var Q=t.album,G=t.value,Y=e.albums,V=e.imageQueue;if(!Y)return e;var q=Object(A.a)({},Y);q[G]=Object(A.a)({},q[Q]),delete q[Q];var U=null===V||void 0===V?void 0:V.map((function(e){return e.album===Q?Object(A.a)(Object(A.a)({},e),{},{album:G}):e}));return Object(A.a)(Object(A.a)({},e),{},{album:G,albums:q,imageQueue:U});case"setReview":var X=t.review;return Object(A.a)(Object(A.a)({},e),{},{review:!!X});case"setStatus":var Z=t.album,J=t.value,$=e.albums;if(!$)return e;var ee=Object(A.a)({},$[Z]);return ee.status=J,Object(A.a)(Object(A.a)({},e),{},{albums:Object(A.a)(Object(A.a)({},$),{},Object(je.a)({},Z,ee))});default:return we("albumsContext reducer received bad action",t),e}},At=Object(f.createContext)(Ct),Tt=function(e){var t=e.children,n=e.testState,a=(e.testDispatch,Object(f.useReducer)(It,n||Ct)),r=Object(O.a)(a,2),c=r[0],i=r[1],o=Object(A.a)(Object(A.a)({},c),{},{dispatch:i});return g.a.createElement(At.Provider,{value:o},t)},St=function(e){var t=e.album,n=e.checkbox,a=e.input,r=e.textArea,c=e.type,i=e.value,o=Object(f.useContext)(At).dispatch,s=["albums",t];return g.a.createElement(ot,{checkbox:n,configKeys:s,dispatch:o,dispatchBefore:[{type:c,album:t}],dispatchOnFailure:[{type:c,album:t,value:i}],input:a,textArea:r,value:i})},Nt=function(e){var t=e.album,n=e.close,a=e.open,r=Object(f.useContext)(At).dispatch,c=Object(f.useState)(Boolean),i=Object(O.a)(c,2),o=i[0],s=i[1];return g.a.createElement(x.a,{closeOnDimmerClick:!0,onClose:function(){return n()},open:a},g.a.createElement(x.a.Header,null,"Delete ",t,"?"),g.a.createElement(x.a.Content,null,g.a.createElement(x.a.Description,null,g.a.createElement(We.a,{warning:!0},g.a.createElement(We.a.Header,null,"Deleting this album from the SA Bot does not also delete it off of imgur."),g.a.createElement("p",null,"Deleting this album will delete all pending images for this album from the queue.")),g.a.createElement("p",null,"Type the name of the album and click 'Delete' to delete"),g.a.createElement(nt.a,{onChange:function(e,n){var a=n.value;return s((null===a||void 0===a?void 0:a.toLowerCase())===t.toLowerCase())}}),g.a.createElement("br",null),g.a.createElement("br",null)),g.a.createElement(x.a.Actions,null,g.a.createElement(C.a,{color:"green",onClick:function(){return n()}},"Cancel"),g.a.createElement(C.a,{disabled:!o,color:o?"red":void 0,onClick:function(){return q({album:t,dispatch:r})}},g.a.createElement(I.a,{name:"exclamation"})," Delete"))))},Pt=function(e){var t=e.album,n=Object(f.useContext)(At),a=n.dispatch,c=n.albums,i=Object(f.useState)(!1),o=Object(O.a)(i,2),s=o[0],u=o[1],l=Object(f.useState)(!1),m=Object(O.a)(l,2),d=m[0],p=m[1];if(!c)return g.a.createElement("div",null,g.a.createElement(j.a,null,t),g.a.createElement(Et.a,{active:!0}));var h=c[t];if(!h)return g.a.createElement(Et.a,{active:!0});return g.a.createElement("div",null,g.a.createElement(j.a,null,g.a.createElement(ot,{configKeys:["albums"],callback:function(e){a({type:r.setName,album:t,value:e})},input:t,labelText:"Album",targetsProperty:!0,tellParentOpen:function(e){return u(e)},value:t}),s&&g.a.createElement(Fe.a,{content:"Delete ".concat(t," from SA Bot"),trigger:g.a.createElement(I.a,{name:"trash",onClick:function(){return p(!0)},size:"large",style:{cursor:"pointer"}})}),g.a.createElement(Nt,{album:t,close:function(){return p(!1)},open:d})),h.hash?g.a.createElement("a",{href:"https://imgur.com/a/".concat(h.hash),target:"_blank",rel:"noopener noreferrer"},"View album ",t," on Imgur"):"No hash set for this album, Imgur link unavailable",g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(St,{album:t,input:"description",textArea:!0,type:r.setDescription,value:h.description}),g.a.createElement(St,{album:t,input:"hash",type:r.setHash,value:h.hash}),g.a.createElement(St,{album:t,input:"status",type:r.setStatus,checkbox:!0,value:h.status}))},Bt=function(e){var t=Object(f.useRef)();return Object(f.useEffect)((function(){t.current=e})),t.current},Dt=function(e){var t=e.acceptImage,n=e.rejectImage,a=e.lastImage,r=e.firstImage,c=e.nextImage,i=e.prevImage;return g.a.createElement(Xe.a,null,g.a.createElement(C.a,{icon:"backward",onClick:function(){return r()}}),g.a.createElement(C.a,{icon:"step backward",onClick:function(){return i()}}),g.a.createElement(C.a,{color:"green",icon:"thumbs up",onClick:function(){return t()}}),g.a.createElement(C.a,{color:"red",icon:"thumbs down",onClick:function(){return n()}}),g.a.createElement(C.a,{icon:"step forward",onClick:function(){return c()}}),g.a.createElement(C.a,{icon:"forward",onClick:function(){return a()}}))},Ft=n(111),Rt={enter:function(e){var t=e.enterDirection;return{x:t===ee.left?-1e3:t===ee.right?1e3:0,opacity:0}},center:{zIndex:1,x:0,opacity:1},exit:function(e){var t=e.exitDirection;return{zIndex:0,x:t===ee.left?-1e3:t===ee.right?1e3:0,y:t===ee.down?1e3:t===ee.up?-1e3:0,opacity:0}}},_t=function(e){var t=e.custom,n=e.image,a=e.keyProp;return n?g.a.createElement(Ft.a,{initial:!1,custom:t},g.a.createElement(Ft.b.img,{key:a,src:n,custom:t,variants:Rt,initial:"enter",animate:"center",exit:"exit",style:{maxWidth:300,maxHeight:300,position:"absolute"},transition:{x:{type:"spring",stiffness:300,damping:200},opacity:{duration:.2}}})):g.a.createElement(g.a.Fragment,null)},zt=n(369),Lt=function(e){var t=e.avatar,n=e.name,a=e.profile,r=e.regDate,c=e.title;return g.a.createElement("div",null,g.a.createElement(j.a,null,g.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},n)),r,g.a.createElement("br",null),g.a.createElement("br",null),t&&g.a.createElement(zt.a,{src:t}),c)},Kt=function(e){var t=e.animatedImage,n=e.reviewImage;return g.a.createElement("div",{style:{height:600}},g.a.createElement(Ze.a,{columns:"2",divided:!0},g.a.createElement(Ze.a.Column,{width:"2"},g.a.createElement(Lt,n.submittedBy)),g.a.createElement(Ze.a.Column,null,g.a.createElement("p",null,function(e){var t=(e=(e=new Date(e).toString()).slice(0,e.length-36)).slice(-3),n=e.slice(-5,-3),a=Number(n)>11?"PM":"AM";Number(n)>12&&(n=(Number(n)-12).toString()),0===Number(n)&&(n="12");var r=e.slice(0,e.length-5);return"".concat(r," ").concat(n," ").concat(t," ").concat(a)}(n.submittedAt)),g.a.createElement("p",null,n.status),g.a.createElement("div",{style:{width:300,position:"relative",display:"flex",justifyContent:"center",alignItems:"left"}},t))))};!function(e){e.down="down",e.left="left",e.right="right",e.up="up"}(ee||(ee={}));var Ht={down:1,left:2,right:3,up:4},Wt=function(e){var t=e.album,n=Object(f.useContext)(At),a=n.dispatch,r=n.imageQueue,i=Object(f.useState)(0),o=Object(O.a)(i,2),s=o[0],u=o[1],l=Object(f.useState)(0),m=Object(O.a)(l,2),d=m[0],p=m[1],h=Object(f.useState)(ee.right),b=Object(O.a)(h,2),v=b[0],E=b[1],y=Object(f.useState)(ee.left),k=Object(O.a)(y,2),w=k[0],x=k[1],C=Object(f.useState)(!1),I=Object(O.a)(C,2),A=I[0],T=I[1],S=Object(f.useCallback)((function(e){x(e),p(d+Ht[e])}),[x,d,p]),N=(t?null===r||void 0===r?void 0:r.filter((function(e){return e.album.toLowerCase()===t.toLowerCase()&&e.status===c.pending})):null===r||void 0===r?void 0:r.filter((function(e){return e.status===c.pending})))||[],P=N[s],B=null===P||void 0===P?void 0:P.hash,D=Bt(t),F=Bt(P),R=Bt(d),_=Bt(N.length);Object(f.useEffect)((function(){t===D&&N.length!==_&&(T(!0),F&&F.status===c.accepted&&(E(ee.right),S(ee.up),T(!1)),F&&F.status===c.rejected&&(E(ee.right),S(ee.down),T(!1)))}),[t,S,D,N.length,_,P,F]),Object(f.useEffect)((function(){u(0)}),[t,u]),Object(f.useEffect)((function(){s>N.length&&u(N.length-1)}),[s,N.length,u]);var z=function(e){e<0?u(0):e>N.length-1?u(N.length-1&0):u(e)};return g.a.createElement(Xe.a,null,g.a.createElement(j.a,{as:"h2",content:N.length?void 0!==s&&"Image ".concat(s+1," of ").concat(N.length," pending review for ").concat(t||"all albums"):"No images to review for ".concat(t||"any albums")}),g.a.createElement(Dt,{acceptImage:function(){return Q({dispatch:a,hash:B})},rejectImage:function(){return G({dispatch:a,hash:B})},firstImage:function(){return z(0)},lastImage:function(){return z(N.length-1)},nextImage:function(){E(ee.right),S(ee.left),s+1<N.length&&u(s+1)},prevImage:function(){E(ee.left),S(ee.right),s-1>=0&&u(s-1)}}),!!P&&g.a.createElement(Kt,{animatedImage:g.a.createElement(_t,{custom:{enterDirection:v,exitDirection:w},image:A?null===F||void 0===F?void 0:F.image:null===P||void 0===P?void 0:P.image,keyProp:A?R:d}),reviewImage:P}))},Mt=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.album,a=t.dispatch,c=t.description,i=t.hash,a({type:r.createNewAlbum,album:n,hash:i,description:c}),a({type:r.setAlbum,album:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(e){var t=e.showCreateNew,n=e.close,a=e.open,r=Object(f.useContext)(At).dispatch,c=Object(f.useState)(""),i=Object(O.a)(c,2),o=i[0],s=i[1],u=Object(f.useState)(""),l=Object(O.a)(u,2),m=l[0],d=l[1],p=Object(f.useState)(""),h=Object(O.a)(p,2),b=h[0],v=h[1];return g.a.createElement(x.a,{closeOnDimmerClick:!0,onClose:function(){return n()},open:a},g.a.createElement(x.a.Header,null,"Add existing Imgur Album"," ",g.a.createElement(C.a,{floated:"right",onClick:function(e){e.preventDefault(),t()}},"Create New Album")),g.a.createElement(x.a.Content,null,g.a.createElement(x.a.Description,null,g.a.createElement(We.a,null,g.a.createElement(We.a.Header,null,"Enter a name and the hash of an existing Imgur album to add it to the bot.")),g.a.createElement(nt.a,{label:"Hash",onChange:function(e,t){var n=t.value;return s(n)}}),g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(nt.a,{label:"Name",onChange:function(e,t){var n=t.value;return d(n)}}),g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(nt.a,{label:"Description",onChange:function(e,t){var n=t.value;return v(n)}}),g.a.createElement("br",null),g.a.createElement("br",null)),g.a.createElement(x.a.Actions,null,g.a.createElement(C.a,{onClick:function(){return n()}},"Cancel"),g.a.createElement(C.a,{disabled:!m||!o,color:m?"green":void 0,onClick:function(){return Mt({dispatch:r,album:m,description:b,hash:o})}},g.a.createElement(I.a,{name:"add"}),"Add Album"))))},Gt=function(e){var t=e.addExisting,n=e.close,a=e.open,r=Object(f.useContext)(At).dispatch,c=Object(f.useState)(""),i=Object(O.a)(c,2),o=i[0],s=i[1],u=Object(f.useState)(""),l=Object(O.a)(u,2),m=l[0],d=l[1];return g.a.createElement(x.a,{closeOnDimmerClick:!0,onClose:function(){return n()},open:a},g.a.createElement(x.a.Header,null,"Create New Album"," ",g.a.createElement(C.a,{floated:"right",onClick:function(){return t()}},"Add Existing Album")),g.a.createElement(x.a.Content,null,g.a.createElement(x.a.Description,null,g.a.createElement(We.a,null,g.a.createElement(We.a.Header,null,"Creates a new album on Imgur and adds it to the SA Bot")),g.a.createElement(nt.a,{label:"Name",onChange:function(e,t){var n=t.value;return s(n)}}),g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(nt.a,{label:"Description",onChange:function(e,t){var n=t.value;return d(n)}}),g.a.createElement("br",null),g.a.createElement("br",null)),g.a.createElement(x.a.Actions,null,g.a.createElement(C.a,{onClick:function(){return n()}},"Cancel"),g.a.createElement(C.a,{disabled:!o,color:o?"green":void 0,onClick:function(){return Y({dispatch:r,album:o,description:m})}},g.a.createElement(I.a,{name:"exclamation"}),"Create Album"))))},Yt=function(){var e=Object(f.useContext)(At).album,t=Object(f.useState)(!1),n=Object(O.a)(t,2),a=n[0],r=n[1],c=Object(f.useState)(!1),i=Object(O.a)(c,2),o=i[0],s=i[1];return Object(f.useEffect)((function(){r(!1),s(!1)}),[e]),g.a.createElement(g.a.Fragment,null,g.a.createElement(Fe.a,{content:"Create new album or Add existing album",trigger:g.a.createElement(C.a,{float:"right",icon:"add",onClick:function(){return r(!0)}})}),o?g.a.createElement(Qt,{showCreateNew:function(){return s(!1)},close:function(){r(!1)},open:a}):g.a.createElement(Gt,{addExisting:function(){return s(!0)},close:function(){r(!1)},open:a}))},Vt=function(e){var t=e.album,n=Object(f.useContext)(At),a=n.dispatch,i=n.album,o=n.imageQueue,s=null===o||void 0===o?void 0:o.filter((function(e){return e.album.toLowerCase()===t.toLowerCase()&&e.status===c.pending})).length;return g.a.createElement("div",{style:{marginBottom:10,marginTop:10}},g.a.createElement(Me.a,{color:t===i?"green":void 0,style:{cursor:"pointer"},onClick:function(){return a({type:r.setAlbum,album:t})}},t),g.a.createElement(Fe.a,{content:"Click to review images for ".concat(t),disabled:!s,trigger:g.a.createElement(Me.a,{style:{cursor:"pointer"},size:"large",color:s?"red":void 0,onClick:function(){a({type:r.setAlbum,album:t}),s&&a({type:r.setReview,review:!0})}},s)}))},qt=function(){var e,t=(null===(e=Object(f.useContext)(At))||void 0===e?void 0:e.albums)||[],n=Object.keys(t).sort().map((function(e,t){return g.a.createElement(Vt,{album:e,key:t})}));return g.a.createElement("div",null,n)},Ut=function(){return g.a.createElement("div",null,g.a.createElement(j.a,{as:"h2"},"No Album Selected"),"The bot can access albums that are hosted on"," ",g.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.imgur.com"},"Imgur"),".",g.a.createElement("br",null),"You need to add an Imgur API key to the bot for this feature to work.",g.a.createElement("br",null),"You can use the API tab to add the Imgur API key. ",g.a.createElement("br",null),"You can add existing Imgur Albums that you own. ",g.a.createElement("br",null),"To add an existing Imgur Album you"," ",g.a.createElement("a",{href:"https://dev.to/codingcoach/get-your-album-id-in-imgur-b6c",target:"_blank",rel:"noopener noreferrer"}," ","need the Album Hash, aka Id")," ",g.a.createElement("br",null),"You can also create new Imgur Albums using the control panel.")},Xt=function(){var e=Object(f.useContext)(At),t=e.dispatch,n=e.album,a=e.fetching,i=e.imageQueue,o=e.review,s=null===i||void 0===i?void 0:i.filter((function(e){return e.status===c.pending})).length,u=1===s;return g.a.createElement("div",null,g.a.createElement(Xe.a,null,g.a.createElement(Ze.a,{columns:2,divided:!0},g.a.createElement(Ze.a.Column,{width:4},g.a.createElement(j.a,{as:"h2",onClick:function(){return t({type:r.setAlbum,album:""})},style:{cursor:"pointer"}},"Albums",g.a.createElement(C.a,{disabled:a,onClick:function(e){e.stopPropagation(),X(t)},floated:"right",icon:"refresh"})),g.a.createElement("div",null,"Add album ","   ",g.a.createElement(Yt,null)),g.a.createElement(qt,null)),g.a.createElement(Ze.a.Column,null,n?g.a.createElement(Pt,{album:n,key:n}):g.a.createElement(Ut,null)))),i&&g.a.createElement(C.a,{onClick:function(){return t(n?{type:r.setAlbum,album:""}:{type:r.setReview,review:!o})}},"There ",u?"is":"are"," ",s||"no"," ","image",!u&&"s"," waiting for review"),o&&g.a.createElement(Wt,{album:n}))},Zt={apis:{catAPI:"exampleCatApiKey",deepAi:"exampleDeepAiKey",imgur:{accessToken:"exampleImgurAccessToken",clientId:"exampleImgurClientId",clientSecret:"exampleImgurClientSecret"},twitter:{bearerToken:"exampleTwitterBearerToken",consumerKey:"exampleTwitterConsumerKey",consumerSecret:"exampleTwitterConsumerSecret"}},current:"",fetching:[],failed:[],dispatch:function(e){}},Jt=function(e,t){switch(t.type){case"failed":var n=t.api,a=e.failed.includes(n)?e.failed:[].concat(Object(B.a)(e.failed),[n]),r=e.fetching.filter((function(e){return e!==n}));return Object(A.a)(Object(A.a)({},e),{},{failed:a,fetching:r});case"fetching":var c=t.api,i=e.fetching.includes(c)?e.fetching:[].concat(Object(B.a)(e.fetching),[c]);return Object(A.a)(Object(A.a)({},e),{},{fetching:i});case"setApis":var o=t.apis,s=e.fetching.filter((function(e){return"apis"!==e}));return Object(A.a)(Object(A.a)({},e),{},{apis:o,fetching:s});case"setApi":var u=t.api,l=t.value,m=Object(A.a)(Object(A.a)({},e.apis),{},Object(je.a)({},u,l)),d=e.fetching.filter((function(e){return e!==u}));return Object(A.a)(Object(A.a)({},e),{},{apis:m,fetching:d});case"setCurrent":var p=t.current;return Object(A.a)(Object(A.a)({},e),{},{current:p});default:return console.log("apiContext default",t),e}},$t=Object(f.createContext)(Zt),en=function(e){var t=e.children,n=e.testState,a=(e.testDispatch,Object(f.useReducer)(Jt,n||Zt)),r=Object(O.a)(a,2),c=r[0],i=r[1],o=Object(A.a)(Object(A.a)({},c),{},{dispatch:i});return g.a.createElement($t.Provider,{value:o},t)},tn=function(e){var t=e.api,n=e.input,a=e.keys,r=e.value,c=Object(f.useContext)($t),i=c.dispatch,s=c.apis,u=a||["apis",t];n&&(u=[].concat(Object(B.a)(u),[n]));var l=s[t],m=function(){var e=Object(k.a)(y.a.mark((function e(n){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof l?i({type:o.setApi,api:t,value:n}):(a=Object(A.a)({},l),r=a,u.slice(2).forEach((function(e,t){t+3===u.length?Array.isArray(r)||r.hasOwnProperty(e)?r[e]=n:r=void 0:r=r[e]})),i({type:o.setApi,api:t,value:a})),e.next=3,F({configKeys:u,value:n});case 3:e.sent||i({type:o.setApi,api:t,value:l});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return g.a.createElement(ot,{configKeys:u,callback:m,input:n||t,labelText:n?void 0:"".concat(t," Key"),value:r})},nn=function e(t){var n=t.api,a=t.keys,r=t.object,c=t.name,i=Object(f.useState)(!1),o=Object(O.a)(i,2),s=o[0],u=o[1],l=[].concat(Object(B.a)(a),[c]);return g.a.createElement("div",{style:{marginTop:10,marginBottom:10}},g.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return u(!s)}},g.a.createElement(C.a,{icon:"edit"}),g.a.createElement(Me.a,{size:"large"},c),g.a.createElement(I.a,{name:s?"caret down":"caret right"})),s&&g.a.createElement(Xe.a,{style:{marginBottom:10}},Object.keys(r).map((function(t){var c=r[t],i="object"===c?Array.isArray(c)?g.a.createElement(an,{api:n,array:c,keys:a,name:t}):g.a.createElement(e,{api:n,object:c,name:t,keys:[].concat(Object(B.a)(a),[t])}):g.a.createElement(tn,{api:n,keys:l,input:t,value:c});return g.a.createElement("div",{key:t},i)}))))},an=function e(t){var n=t.api,a=t.keys,r=t.array,c=t.name,i=Object(f.useState)(!1),o=Object(O.a)(i,2),s=o[0],u=o[1];return g.a.createElement("div",{style:{marginTop:10,marginBottom:10}},g.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return u(!s)}},g.a.createElement(C.a,{icon:"edit"}),g.a.createElement(Me.a,{size:"large"},c),g.a.createElement(I.a,{name:s?"caret down":"caret right"})),s&&g.a.createElement(Xe.a,{style:{marginBottom:10}},r.map((function(t,r){var i=[].concat(Object(B.a)(a),[c]);return g.a.isValidElement(t)?t:"object"===typeof t?Array.isArray(t)?g.a.createElement(e,{api:n,array:t,keys:i,name:r.toString()}):g.a.createElement(nn,{api:n,keys:i,object:t,name:r.toString()}):g.a.createElement(tn,{api:n,input:r.toString(),keys:Object(B.a)(i),value:t})}))))},rn={catAPI:'# To Get the Cat Api Key\n\n1. Go to the cat api website and sign up <br/>\n<a href="https://thecatapi.com/signup" target="_blank">Sign Up Here on the Cat Api Website</a>\n\n2. You will get an email with the key in it.\n3. Copy the key from your email into the field on this page',deepAi:"# Deep AI API\n\nThe Deep AI API provides a [text generator](https://deepai.org/machine-learning-model/text-generator). zeroCool uses it to generate responses to posts.\n\nTo get the Deep AI API key, go to (https://deepai.org/) and click the 'sign up' button in the upper right. Provide a valid email address. They will email you a verification link. Click the verification link. You will then be logged in to the Deep AI website. The code will be displayed on the [Deep AI profile screen](https://deepai.org/dashboard/profile).",imgur:'# To get the Imgur api keys follow the 4 steps below\nIf you already have an account with Imgur, you can skip step 1.\n\n1. Register an Imgur account\n\n    <a href="https://imgur.com/register" target="_blank">https://imgur.com/register</a>\n\n2. Log in to Imgur\n\n    <a href="https://imgur.com/signin/" target="_blank">https://imgur.com/signin/</a>\n\n3. Register an application on Imgur\n\nRegistering an application will get you the client_id and client_secret.\n\nGo to this link:\n        <a href="https://api.imgur.com/oauth2/addclient" target="_blank">https://api.imgur.com/oauth2/addclient</a>\n\n\nYou\'ll need to log in with your imgur account if you haven\'t already.\n\nTo register the application type the application name. \n\nIt can be anything. I suggest something like "saForumsBot"\n\nSelect "OAuth 2 authorization without a callback URL".\n\nSkip the Authorization callback url and website fields.\n\nFill in the email and description fields.\n\nDo the captcha if there is one.\n\nClick submit.\n\nCopy and paste the client_id and client_secret into the fields on this screen.\n\nThe client_id is used to upload images "anonymously", meaning they don\'t go into one of the named albums on the account.\n\n4. Click the "Get Token" button to use your Imgur username and password to get the access token\n\nThe access token is used to upload images to albums.',twitter:"# Twitter\n\nTwitter documentation 1: [Application-only authentication and OAuth 2.0 Bearer Token](https://developer.twitter.com/en/docs/basics/authentication/api-reference/token)\n\nTwitter documentation 2: [Application-only authentication and OAuth 2.0 Bearer Token](https://developer.twitter.com/en/docs/basics/authentication/oauth-2-0/application-only)\n\nFollow these 6 steps to get the authentication codes that you need to make your bot work with Twitter.\n\n1. You need to [sign up for twitter](https://twitter.com/signup/), if you haven't already.\n\n2. Sign Up for Twitter Developer Account\n\nThen you need to [sign up for a twitter developer account](https://developer.twitter.com/en).\nAfter you sign up, you'll need to verify your account by clicking a link that Twitter will email you. You'll also have to provide a phone number.\n\n3. Create an App\n\nGo to the Twitter developer dashboard and [create an app](https://developer.twitter.com/en/apps/create).\n\n4. Get the 'Consumer Key' and the Consumer Secret'\nClick the 'Details' button for the app.\n\n![Details Button](https://jacobwicks.github.io/assets//images/2020-05-11/detailsButton.png)\n\nClick on 'Keys and Tokens'.\n\n![Keys and Tokens Button](https://jacobwicks.github.io/assets//images/2020-05-11/keysAndTokens.png)\n\nGet the consumer key and consumer secret for the app.\n\n![Key and Secret](https://jacobwicks.github.io/assets//images/2020-05-11/keySecret.png)\n\nCopy and paste the consumer key and consumer secret into the fields on this page.\n\n5. Click the button below to get the bearer token"},cn=function(e){var t=e.api,n=e.addChildren,a=g.a.useRef(null),r=mt(a),c=Object(f.useState)(!1),i=Object(O.a)(c,2),o=i[0],s=i[1],u=rn[t],l=[g.a.createElement(lt,{key:"markdown",escapeHtml:!1,source:u,maxWidth:r})];null===n||void 0===n||n.forEach((function(e,t){return l.push(Object(A.a)(Object(A.a)({},e),{},{key:t.toString()}))}));var m=!u;return g.a.createElement("div",{ref:a,style:{marginBottom:20}},g.a.createElement(Fe.a,{trigger:g.a.createElement(C.a,{onClick:function(){return u&&s(!o)}},t),content:"click for instructions",disabled:o||m}),o&&g.a.createElement(Xe.a,{children:l}))},on=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r,c,i,s,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.dispatch,r=t.imgur,c=t.username,i=t.password,"string"!==typeof r){e.next=3;break}throw Error("imgur is not an object");case 3:return a({type:o.fetching,api:"imgur"}),"tokens/imgur",s={username:c,password:i},e.next=8,W("tokens/imgur",!0,s);case 8:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=12;break}e.t0=void 0===n;case 12:if(!e.t0){e.next=16;break}e.t2=void 0,e.next=17;break;case 16:e.t2=n.token;case 17:u=e.t2,a(u?{type:o.setApi,api:"imgur",value:Object(A.a)(Object(A.a)({},r),{},{accessToken:u})}:{type:o.failed,api:"imgur"});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=function(e){var t=e.close,n=e.open,a=Object(f.useContext)($t),r=a.dispatch,c=a.apis,i=a.fetching,o=Object(f.useState)(""),s=Object(O.a)(o,2),u=s[0],l=s[1],m=Object(f.useState)(""),d=Object(O.a)(m,2),p=d[0],h=d[1],b=i.includes("imgur"),v=null===c||void 0===c?void 0:c.imgur,E=!u||!p||b;return Object(f.useEffect)((function(){!b&&t()}),[t,b]),g.a.createElement(x.a,{closeOnEscape:!0,closeOnDimmerClick:!0,open:n,onClose:function(){return t()}},g.a.createElement(x.a.Header,null,"Get Imgur Token"),g.a.createElement(x.a.Content,null,g.a.createElement(nt.a,{label:{content:"Imgur Username"},onChange:function(e){var t=e.target;return l(t.value)},value:u}),g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(nt.a,{label:{content:"Imgur Password"},onChange:function(e){var t=e.target;return h(t.value)},value:p,type:"password"})),g.a.createElement(x.a.Actions,null,g.a.createElement(C.a,{color:"red",onClick:function(){return t()}},g.a.createElement(I.a,{name:"remove"})," Cancel"),g.a.createElement(C.a,{color:"green",disabled:E,loading:b,onClick:function(){return on({dispatch:r,imgur:v,username:u,password:p})}},g.a.createElement(I.a,{name:"checkmark"}),"Get Token")))},un=function(e){var t=e.api,n=Object(f.useState)(!1),a=Object(O.a)(n,2),r=a[0],c=a[1],i=[g.a.createElement(C.a,{onClick:function(){return c(!0)}},"Get Token")];return g.a.createElement(g.a.Fragment,null,g.a.createElement(cn,{api:t,addChildren:i}),g.a.createElement(sn,{close:function(){return c(!1)},open:r}))},ln=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.dispatch,"string"!==typeof(r=t.twitter)){e.next=3;break}throw Error("twitter is not an object");case 3:return a({type:o.fetching,api:"twitter"}),"tokens/twitter",e.next=7,W("tokens/twitter");case 7:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=11;break}e.t0=void 0===n;case 11:if(!e.t0){e.next=15;break}e.t2=void 0,e.next=16;break;case 15:e.t2=n.bearerToken;case 16:c=e.t2,a(c?{type:o.setApi,api:"twitter",value:Object(A.a)(Object(A.a)({},r),{},{bearerToken:c})}:{type:o.failed,api:"twitter"});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mn=function(e){var t=e.api,n=Object(f.useContext)($t),a=n.dispatch,r=n.apis,c=n.fetching.includes("twitter"),i=null===r||void 0===r?void 0:r.twitter,o=null===i||void 0===i?void 0:i.consumerKey,s=null===i||void 0===i?void 0:i.consumerSecret,u=c||!o||!s,l=[g.a.createElement(C.a,{disabled:u,loading:c,onClick:function(){return ln({dispatch:a,twitter:i})}},u?"You need to fill in the ".concat(o?"":"consumerKey"," ").concat(o||s?"":"and"," ").concat(s?"":"consumerSecret","."):"Get Token")];return g.a.createElement(cn,{api:t,addChildren:l})},dn=function(e){var t=e.api,n={imgur:g.a.createElement(un,{api:t}),twitter:g.a.createElement(mn,{api:t}),default:g.a.createElement(cn,{api:t})};return n[t.toLowerCase()]?n[t.toLowerCase()]:n.default},pn=function(e){var t=e.api,n=Object(f.useContext)($t).apis,a=g.a.createElement(dn,{key:t,api:t}),r=n[t],c=["apis",t],i="string"===typeof r?g.a.createElement(tn,{api:t,value:r}):Object.entries(r).map((function(e,n){var a=Object(O.a)(e,2),r=a[0],i=a[1];return g.a.createElement("div",{key:n},"object"===typeof i?Array.isArray(i)?g.a.createElement(an,{api:t,keys:c,array:i,name:r}):g.a.createElement(nn,{api:t,keys:c,object:i,name:r}):g.a.createElement(tn,{api:t,input:r,value:i}))}));return g.a.createElement(g.a.Fragment,null,a,i)},hn=function(){return g.a.createElement("div",null,g.a.createElement(j.a,{as:"h2"},"No API Selected"),"Some of the bot actions need access to API keys to work.",g.a.createElement("br",null),"You can use this screen to manage the API keys. ",g.a.createElement("br",null),"If you need to add an API that is not listed, edit the forumsBot config.json file directly.")},fn=function(){var e=Object(f.useContext)($t),t=e.dispatch,n=e.apis,a=e.current;return g.a.createElement(Ze.a,{divided:!0},g.a.createElement(Ze.a.Column,{width:4},g.a.createElement(j.a,{as:"h2",onClick:function(){return t({type:o.setCurrent,current:""})},style:{cursor:"pointer"}},"APIs"," "),g.a.createElement("div",null,n&&Object.keys(n).sort().map((function(e,n){return g.a.createElement("div",{key:n},g.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return t({type:o.setCurrent,current:e})}},g.a.createElement(Me.a,{color:a===e?"green":void 0},e)),g.a.createElement("br",null))})))),g.a.createElement(Ze.a.Column,{width:12},a?(null===n||void 0===n?void 0:n[a])&&g.a.createElement(pn,{api:a}):g.a.createElement(hn,null)))},gn={exist:void 0,refreshing:!1,testing:!1,work:void 0},bn=function(){var e=Object(f.useContext)(Ae),t=e.dispatch,n=e.settings,a=(null===n||void 0===n?void 0:n.cookies)||gn,r=a.exist,c=a.refreshing,i=a.testing,o=a.work;return g.a.createElement(Xe.a,null,g.a.createElement(j.a,null,"Cookies"),r?"Stored cookies found":"No stored cookies",g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(C.a,{loading:i,onClick:function(){return!i&&!c&&re(t)}},"Test Cookies")," ",!i&&void 0!==o&&g.a.createElement(I.a,{name:o?"thumbs up outline":"thumbs down outline"}),g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(C.a,{onClick:function(){return!i&&!c&&ae(t)},loading:c},"Get New Cookies"),g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(C.a,{onClick:function(){return r&&ne(t)}},"Clear Cookies"))},vn=function(){var e=Object(f.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(f.useState)(!1),c=Object(O.a)(r,2),i=c[0],o=c[1],s=Object(f.useState)(!1),u=Object(O.a)(s,2),l=u[0],m=u[1],d=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,setTimeout((function(){}),750);case 3:a(!1),o(!0),m(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g.a.createElement(g.a.Fragment,null,g.a.createElement(C.a,{onClick:function(){return d()},loading:n},"Test Login"),l?i?g.a.createElement(I.a,{name:"thumbs up outline"}):g.a.createElement(I.a,{name:"thumbs down outline"}):void 0)},En=function(){var e=Object(f.useContext)(Ae),t=e.dispatch,n=e.settings,a=(null===n||void 0===n?void 0:n.botName)||"zeroCool";return g.a.createElement(Xe.a,null,g.a.createElement(j.a,null,"botName"),"The botName is used by posters to instruct the bot to take actions."," ",g.a.createElement("br",null),'For example, "',a,' kittyCat" instructs the bot to post a picture of a cat. ',g.a.createElement("br",null),"The botName does not have to match the account name.",g.a.createElement(ot,{dispatch:t,dispatchBefore:[{type:s.setBotName}],dispatchOnFailure:[{type:s.setBotName,botName:a}],configKeys:kn,input:"botName",renameValueTo:"botName",value:a}))},yn=function(){var e=Object(f.useContext)(Ae),t=e.dispatch,n=e.settings,a=!!(null===n||void 0===n?void 0:n.sigLinkInstructions),r=!!(null===n||void 0===n?void 0:n.sigShowText),c=(null===n||void 0===n?void 0:n.sigText)||"";return g.a.createElement(Xe.a,null,g.a.createElement(j.a,null,"Signature"),"The bot signature may be added to the end of every post. ",g.a.createElement("br",null),"Turning on 'Link Instructions' will add a link to the bot instructions hosted on GitHub pages, if you have that feature turned on. ",g.a.createElement("br",null),g.a.createElement(ot,{checkbox:!0,configKeys:kn,dispatch:t,dispatchBefore:[{type:s.setSigLinkInstructions}],dispatchOnFailure:[{type:s.setSigLinkInstructions,sigLinkInstructions:a}],labelText:"Link Instructions in Bot Signature",input:"sigLinkInstructions",value:a,renameValueTo:"sigLinkInstructions"}),"You can add custom text to each post by the bot.",g.a.createElement(ot,{checkbox:!0,configKeys:kn,dispatch:t,dispatchBefore:[{type:s.setSigShowText}],dispatchOnFailure:[{type:s.setSigShowText,sigShowText:r}],labelText:"Show Bot Signature Text",input:"sigShowText",value:r,renameValueTo:"sigShowText"}),g.a.createElement(ot,{dispatch:t,dispatchBefore:[{type:s.setSigText}],dispatchOnFailure:[{type:s.setSigText,sigText:c}],configKeys:kn,labelText:"Bot Signature Text",input:"sigText",renameValueTo:"sigText",value:c}))},kn=["settings"],On=function(){var e=Object(f.useState)("Patient Zero Cool"),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(f.useState)("example password"),c=Object(O.a)(r,2),i=c[0],o=c[1],s=[].concat(kn,["creds"]);return g.a.createElement(g.a.Fragment,null,g.a.createElement(En,null),g.a.createElement(yn,null),g.a.createElement(Xe.a,null,g.a.createElement(j.a,null,"SA Credentials"),"This is the SA forums username and password that the bot uses.",g.a.createElement(ot,{configKeys:s,dispatch:function(e){var t=e.value;return a(t)},dispatchBefore:[{}],dispatchOnFailure:[{value:n}],input:"username",labelText:"Bot SA Username",value:n}),g.a.createElement(ot,{configKeys:s,dispatch:function(e){var t=e.value;return o(t)},dispatchBefore:[{}],dispatchOnFailure:[{value:i}],input:"password",labelText:"Bot SA Password",password:!0,value:i}),g.a.createElement(vn,null)),g.a.createElement(bn,null))},jn=function(e){if(!e||e<0)return{minutes:0,seconds:0};var t=Math.floor(e/6e4),n=Number((e%6e4/1e3).toFixed(0));return 60===n&&(t+=1,n=0),{minutes:t,seconds:n}},wn=function(){var e=Object(k.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"timer",e.next=3,W("timer");case 3:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===t;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=t.timer;case 12:return n=e.t2,e.abrupt("return",n&&jn(n));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xn=function(){var e=Object(k.a)(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn();case 2:(a=e.sent)?t({type:s.setTimer,timer:a}):n&&t({type:s.setTimer,timer:{minutes:n,seconds:0}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Cn=n(152),In=function(){var e=Object(k.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://randomuser.me/api/?results=10",e.next=3,fetch("https://randomuser.me/api/?results=10");case 3:return t=e.sent,e.next=6,null===t||void 0===t?void 0:t.json();case 6:return n=e.sent,a=n.results.map((function(e){return{avatar:e.picture.thumbnail,id:e.login.uuid,name:e.login.username,title:"".concat(e.location.street.name," ").concat(e.location.city),profile:"https://forums.somethingawful.com",regDate:new Date(e.registered.date).toLocaleString("default",{month:"long",day:"numeric",year:"numeric"})}})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e=Math.ceil(e),(t=Math.floor(t))<e&&(t=e+1),Math.floor(Math.random()*(t-e+1))+e},Tn=function(e){return e?750+An(0,500):450+An(0,300)},Sn=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r,c,i,o,s,u,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.array,a=t.dispatch,r=!0,c=!1,e.prev=3,o=Object(Cn.a)(n);case 5:return e.next=7,o.next();case 7:return s=e.sent,r=s.done,e.next=11,s.value;case 11:if(u=e.sent,r){e.next=20;break}return m=u,a({type:l.addEvent,event:Pn(m)}),e.next=17,new Promise((function(e){return setTimeout((function(){return e()}),450)}));case 17:r=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),c=!0,i=e.t0;case 26:if(e.prev=26,e.prev=27,r||null==o.return){e.next=31;break}return e.next=31,o.return();case 31:if(e.prev=31,!c){e.next=34;break}throw i;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})));return function(t){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(k.a)(y.a.mark((function e(t,n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:l.addEvent,event:Pn(t)}),e.next=3,new Promise((function(e){return setTimeout((function(){return e()}),Tn(a))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Pn=function(e,t){return"string"===typeof e?{text:e,time:Date()}:t?{data:e,text:t,time:Date()}:{data:e,time:Date()}},Bn=["Bot running once...",{setting:{running:!0}},"bot has logged in","getting threads..."],Dn=["bot has gotten posts and handled the posts","bot finished, logging out",{setting:{running:!1}}],Fn=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r,c,i,o,s,u,l,m,d,p,h,f,g,b,v,E,k,j,w,x,C,I;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.actions,a=t.botName,r=t.dispatch,c=t.thread,i=c.unreadPosts,0!==(o=i?An(0,i>3?3:i):0)){e.next=6;break}return Nn("".concat(c.title," has no instructions. id: ").concat(c.threadId),r),e.abrupt("return");case 6:return s=Object.entries(n).map((function(e){var t=Object(O.a)(e,2);t[0];return t[1]})).filter((function(e){return e.active})),e.next=9,In();case 9:for(u=e.sent,l=function(){return u[An(0,u.length-1)]},m="There ".concat(1!==o?"are":"is"," ").concat(o," instruction").concat(1!==o?"s":""," in ").concat(c.title,", id: ").concat(c.threadId),d=[],p=0;p<o;p++)f=An(0,s.length-1),g=s[f],b=(null===(h=g.triggers.filter((function(e){return"string"===typeof e})))||void 0===h?void 0:h[0])||"do something",v={author:l(),body:"".concat(a,", ").concat(b),date:Date(),id:An(1e4,5e5),images:[],link:"https://forums.somethingawful.com/",instruction:b},d.push(v);return e.next=16,Nn({text:m,instructions:d},r);case 16:E=!0,k=!1,e.prev=18,w=Object(Cn.a)(d);case 20:return e.next=22,w.next();case 22:return x=e.sent,E=x.done,e.next=26,x.value;case 26:if(C=e.sent,E){e.next=34;break}return I=C,e.next=31,Promise.all([Nn("executing ".concat(I.instruction,"..."),r,!0),Nn({post:{author:{avatar:"https://fi.somethingawful.com/safs/titles/58/73/00226364.0001.jpg",id:226364,name:a,profile:"https://forums.somethingawful.com/member.php?action=getinfo&userid=226364",regDate:"Apr 24, 2020",title:""},body:"example post for ".concat(I.instruction," \n________________________________\nHack the planet!!"),date:Date(),id:An(1e4,5e5),images:[],link:"https://forums.somethingawful.com/showthread.php?threadid=".concat(c.threadId)}},r,!0)]);case 31:E=!0,e.next=20;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(18),k=!0,j=e.t0;case 40:if(e.prev=40,e.prev=41,E||null==w.return){e.next=45;break}return e.next=45,w.return();case 45:if(e.prev=45,!k){e.next=48;break}throw j;case 48:return e.finish(45);case 49:return e.finish(40);case 50:case"end":return e.stop()}}),e,null,[[18,36,40,50],[41,,45,49]])})));return function(t){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r,c,i,o,s,u,l,m,d,p;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.actions,a=t.botName,r=t.dispatch,c=t.threads,e.next=3,Sn({array:Bn,dispatch:r});case 3:return e.next=5,Nn({text:"bot found ".concat(c.length," threads"),threads:c},r);case 5:return e.next=7,Nn("getting posts...",r);case 7:return i=c.reduce((function(e,t){var n=t.title,a=t.threadId,r=t.unreadPosts;return e.push("Scanning ".concat(n,", threadId ").concat(a,"...")),e.push("there are ".concat(r," new posts in the ").concat(n," thread")),e}),[]),e.next=10,Sn({array:i,dispatch:r});case 10:o=!0,s=!1,e.prev=12,l=Object(Cn.a)(c);case 14:return e.next=16,l.next();case 16:return m=e.sent,o=m.done,e.next=20,m.value;case 20:if(d=e.sent,o){e.next=29;break}if(!(p=d).unreadPosts){e.next=26;break}return e.next=26,Fn({actions:n,botName:a,dispatch:r,thread:p});case 26:o=!0,e.next=14;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(12),s=!0,u=e.t0;case 35:if(e.prev=35,e.prev=36,o||null==l.return){e.next=40;break}return e.next=40,l.return();case 40:if(e.prev=40,!s){e.next=43;break}throw u;case 43:return e.finish(40);case 44:return e.finish(35);case 45:return e.next=47,Sn({array:Dn,dispatch:r});case 47:case"end":return e.stop()}}),e,null,[[12,31,35,45],[36,,40,44]])})));return function(t){return e.apply(this,arguments)}}(),_n=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,a,r,c,i,o,s,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.actions,a=t.botName,r=t.dispatch,c=t.thread,i=["Bot running once...",{setting:{running:!0}},"bot has logged in"],e.next=4,Sn({array:i,dispatch:r});case 4:return e.next=6,Nn("getting posts...",r);case 6:return o=c.title,s=c.threadId,u=c.unreadPosts,e.next=9,Nn("Scanning ".concat(o,", threadId ").concat(s,"..."),r,!0);case 9:return e.next=11,Nn("there are ".concat(u," new posts in the ").concat(o," thread"),r,!0);case 11:if(!u){e.next=14;break}return e.next=14,Fn({actions:n,botName:a,dispatch:r,thread:c});case 14:return e.next=16,Sn({array:Dn,dispatch:r});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zn={threads:[],failed:!1,fetching:!1,dispatch:function(e){}},Ln=function(e,t){switch(t.type){case"addThread":var n=t.thread,a=e.threads,r=a?a.concat(n):Array.isArray(n)?Object(B.a)(n):[n];return Object(A.a)(Object(A.a)({},e),{},{threads:r});case"currentThread":var c=t.threadId;return Object(A.a)(Object(A.a)({},e),{},{thread:c});case"failed":return Object(A.a)(Object(A.a)({},e),{},{failed:!0,fetching:!1,threads:[]});case"fetchAttempt":return Object(A.a)(Object(A.a)({},e),{},{fetching:!0});case"setBookmarked":var i=t.threadId,o=t.value,s=e.threads,u=null===s||void 0===s?void 0:s.findIndex((function(e){return e.threadId===i}));if(!s||void 0===u||-1===u)return e;var l=s[u];l.bookmarked=o;var m=Object(B.a)(s);return m[u]=l,Object(A.a)(Object(A.a)({},e),{},{threads:m});case"setName":var d=t.threadId,p=t.value,h=e.threads,f=null===h||void 0===h?void 0:h.findIndex((function(e){return e.threadId===d}));if(!h||void 0===f||-1===f)return e;var g=h[f];g.name=p;var b=Object(B.a)(h);return b[f]=g,Object(A.a)(Object(A.a)({},e),{},{threads:b});case"setThreads":var v=t.threads;return Object(A.a)(Object(A.a)({},e),{},{failed:!1,fetching:!1,threads:v});default:return console.log("threadsContext default",t),e}},Kn=Object(f.createContext)(zn),Hn=function(e){var t=Object(f.useReducer)(Ln,zn),n=Object(O.a)(t,2),a=n[0],r=n[1],c=Object(A.a)(Object(A.a)({},a),{},{dispatch:r});return g.a.createElement(Kn.Provider,{value:c},e.children)},Wn={events:[],failed:!1,listening:!1,dispatch:function(e){}},Mn=function(e,t){switch(t.type){case"addEvent":var n=t.event,a=e.events.concat(n);return Object(A.a)(Object(A.a)({},e),{},{events:a});case"failed":return Object(A.a)(Object(A.a)({},e),{},{failed:!0});case"setListening":var r=t.listening;return Object(A.a)(Object(A.a)({},e),{},{listening:r});default:return console.log("eventsContext default",t),e}},Qn=Object(f.createContext)(Wn),Gn=function(e){var t=Object(f.useReducer)(Mn,Wn),n=Object(O.a)(t,2),a=n[0],r=n[1],c=Object(A.a)(Object(A.a)({},a),{},{dispatch:r});return g.a.createElement(Qn.Provider,{value:c},e.children)},Yn=function(){var e=Object(f.useContext)(Ae),t=e.dispatch,n=e.settings,a=e.timer,r=a.minutes,c=a.seconds,i=null===n||void 0===n?void 0:n.on,o=null===n||void 0===n?void 0:n.running,u=Object(f.useState)(!1),l=Object(O.a)(u,2),m=l[0],d=l[1],p=Bt(o),h=Bt(null===n||void 0===n?void 0:n.interval),b=(null===n||void 0===n?void 0:n.botName)||"",v=Object(f.useContext)(Ve).actions,E=Object(f.useContext)(Kn).threads,w=Object(f.useContext)(Qn).dispatch;Object(f.useEffect)((function(){xn(t)}),[t]),Object(f.useEffect)((function(){(!1===i&&(null===n||void 0===n?void 0:n.interval)||h&&(null===n||void 0===n?void 0:n.interval)&&h!==n.interval)&&t({type:s.setTimer,timer:{minutes:n.interval,seconds:0}})}),[t,h,n,i]),Object(f.useEffect)((function(){!1===o&&!0===p&&xn(t)}),[o,p,t]);var x=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("do run once called"),Z(t),e.next=4,Rn({actions:v,botName:b,dispatch:w,threads:E||[]});case 4:t({type:s.setRunning,running:!1}),t({type:s.setTimer,timer:{minutes:(null===n||void 0===n?void 0:n.interval)||5,seconds:0}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){if(i){var e=setInterval((function(){c>0&&t({type:s.setTimer,timer:{minutes:r,seconds:c-1}}),0===c&&(0===r?(console.log("calling doRunOnce"),x(),e&&clearInterval(e)):t({type:s.setTimer,timer:{minutes:r-1,seconds:59}}))}),1e3);return function(){clearInterval(e)}}}),[t,r,c,i]);var C=0===r&&0===c,I=C&&o&&setTimeout((function(){d(!m)}),300);Object(f.useEffect)((function(){return function(){I&&clearTimeout(I)}}),[I]),Object(f.useEffect)((function(){m&&(!C||!o)&&d(!1)}),[m,C,o,d]);return Object(f.useEffect)((function(){window.addEventListener("focus",(function(){return xn(t)}))}),[t]),g.a.createElement(Xe.a,{style:{backgroundColor:"black",width:120}},g.a.createElement(j.a,{as:"h1",style:{color:m?"black":o&&C?"lightBlue":i?"red":"gray"}},C?"00:00":"".concat(r,":").concat(c<10?"0".concat(c):c)))},Vn=function(e){var t=e.size;return g.a.createElement(Ft.b.div,{animate:{rotate:360},transition:{duration:2,ease:"easeInOut",times:[0,.2,.5,.8,1],loop:1/0,repeatDelay:1},style:{display:"inline-block"}},g.a.createElement(I.a,{size:t||void 0,name:"cog"}))},qn=function(){var e=Object(f.useContext)(Ae).settings,t=!!(null===e||void 0===e?void 0:e.on),n=!!(null===e||void 0===e?void 0:e.running);return g.a.createElement(We.a,null,g.a.createElement(Ze.a,{columns:"2"},g.a.createElement(Ze.a.Column,{width:"5"},g.a.createElement(We.a.Header,null,"Bot State"),g.a.createElement(Me.a,{color:n?"blue":t?"green":"red",size:"huge"},g.a.createElement("div",null,n?g.a.createElement(Vn,{size:"huge"}):g.a.createElement(I.a,{size:"huge",name:t?"play":"stop"})),n?"On":t?"Idle":"Off")),g.a.createElement(Ze.a.Column,{width:"5"},g.a.createElement(We.a.Header,null,g.a.createElement(I.a,{name:"clock",size:"big"}),"Next Bot Run"),g.a.createElement(Yn,null))))},Un=function(){var e=Object(f.useContext)(Ae),t=e.dispatch,n=e.settings,a=Object(f.useContext)(Qn).dispatch,r=Object(f.useContext)(Ve).actions,c=Object(f.useContext)(Kn).threads,i=!!(null===n||void 0===n?void 0:n.on),o=!!(null===n||void 0===n?void 0:n.running),u=(null===n||void 0===n?void 0:n.botName)||"",l=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(t),e.next=3,Rn({actions:r,botName:u,dispatch:a,threads:c||[]});case 3:t({type:s.setRunning,running:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g.a.createElement("div",null,g.a.createElement(C.a,{onClick:function(){return!i&&J(t)},color:"green"},g.a.createElement(I.a,{name:"play",size:"large"}),"Start"),g.a.createElement(C.a,{onClick:function(){return(i||o)&&$({dispatch:t,on:i,running:o})},color:"red"},g.a.createElement(I.a,{name:"stop",size:"large"}),"Stop"),g.a.createElement(C.a,{color:"blue",onClick:function(){o||l()}},g.a.createElement(I.a,{name:"play circle",size:"large"}),"Run Once"))},Xn=function(){var e=Object(f.useContext)(Ae),t=e.dispatch,n=e.settings,a=null===n||void 0===n?void 0:n.interval,r=Object(f.useState)(void 0),c=Object(O.a)(r,2),i=c[0],o=c[1],u=function(){var e=Object(k.a)(y.a.mark((function e(n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(n);case 2:e.sent||a&&t({type:s.setInterval,interval:a}),o(void 0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return g.a.createElement(g.a.Fragment,null,g.a.createElement(We.a,null,g.a.createElement(We.a.Header,null,"Interval"),g.a.createElement("p",null,"When the bot is on, it will run every interval."),g.a.createElement("p",null,"You can increase or decrease the interval to a minimum of 2 minutes."),g.a.createElement("p",null,"Runs Every ",a," Minutes")),g.a.createElement("div",null,g.a.createElement(C.a,{onClick:function(){a&&(i||o(a),t({type:s.increaseInterval}),u(a+1,i||a))}},"Increase"),g.a.createElement(C.a,{onClick:function(){a&&a>2&&(i||o(a),t({type:s.decreaseInterval}),u(a-1,i||a))}},"Decrease"),g.a.createElement(nt.a,{onKeyDown:function(){var e=Object(k.a)(y.a.mark((function e(n){var r,c,l,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.key,c=n.target,"Enter"===r&&(l=c.value,m=Number(l),a&&!isNaN(m)&&m>1&&m!==a&&(i||o(a),t({type:s.setInterval,interval:m}),u(m,i||a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onBlur:function(){var e=Object(k.a)(y.a.mark((function e(n){var r,c,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target,c=r.value,l=Number(c),a&&!isNaN(l)&&l>1&&l!==a&&(i||o(a),t({type:s.setInterval,interval:l}),u(l,i||a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),placeholder:"Set Interval..."})))},Zn=function(){for(var e=Object(f.useState)(3),t=Object(O.a)(e,2),n=t[0],a=t[1],r="",c=0;c<n;c++)r+=".";var i=setTimeout((function(){a(n>2?0:n+1)}),300);return Object(f.useEffect)((function(){return function(){return clearTimeout(i)}}),[i]),g.a.createElement("span",null,r)},Jn=function(e){var t=e.error,n=e.newest,a=Object(f.useState)(!0),r=Object(O.a)(a,2),c=r[0],i=r[1];return n&&setTimeout((function(){i(!c)}),300),g.a.createElement("span",{style:{color:"red"}},!n||c?g.a.createElement("span",null,"ERROR "):g.a.createElement("span",{style:{color:"black"}},"ERROR "),t)},$n=function e(t){var n=t.array,a=t.newest,r=Object(f.useState)(!1),c=Object(O.a)(r,2),i=c[0],o=c[1];return g.a.createElement("span",null,g.a.createElement(I.a,{name:i?"caret down":"caret right",onClick:function(){return o(!i)},style:{cursor:"pointer"}}),i&&g.a.createElement("div",{style:{outline:"solid",outlineColor:"lime",margin:10}},n.map((function(t,n){return g.a.isValidElement(t)?t:"object"===typeof t?Array.isArray(t)?g.a.createElement(e,{array:t,newest:a}):ca(t,a):g.a.createElement("div",{key:n},t)}))))},ea=function(e){var t=e.newest,n=e.object,a=Object(f.useState)(!1),r=Object(O.a)(a,2),c=r[0],i=r[1];return g.a.createElement("span",null,g.a.createElement(I.a,{name:c?"caret down":"caret right",onClick:function(){return i(!c)},style:{cursor:"pointer"}}),c&&g.a.createElement("div",{style:{outline:"solid",outlineColor:"lime",margin:10}},Object.keys(n).map((function(e){var a=n[e],r="object"===a?Array.isArray(a)?g.a.createElement($n,{array:a,newest:t}):ca(n,t):"".concat(e,": ").concat(a);return g.a.createElement("div",{key:e},r)}))))},ta=function(e){var t=e.child,n=Object(f.useState)(!1),a=Object(O.a)(n,2),r=a[0],c=a[1];return g.a.createElement("span",null,g.a.createElement(I.a,{name:r?"caret down":"caret right",onClick:function(){return c(!r)}}),r&&g.a.createElement("div",{style:{outline:"solid",outlineColor:"lime",margin:10}},t))},na=function(e){var t=e.post,n=t.body,a=t.image;return g.a.createElement(Xe.a,null,a&&g.a.createElement(zt.a,{size:"small",src:a}),n)},aa=function(e){var t=e.instructions;if(0===t.length)return g.a.createElement(g.a.Fragment,null);var n=t.map((function(e){var t=e.author,n=e.id,a=e.instruction,r=e.link;return g.a.createElement("div",null,g.a.createElement(Fe.a,{content:g.a.createElement(Lt,t),popperModifiers:{preventOverflow:{boundariesElement:"window"}},position:"top center",trigger:g.a.createElement("a",{href:t.profile,style:{color:"orange"},target:"_blank",rel:"noopener noreferrer"},t.name)})," ",'instructs bot "',a,'" at'," ",g.a.createElement(Fe.a,{content:g.a.createElement(na,{post:e}),popperModifiers:{preventOverflow:{boundariesElement:"window"}},position:"top center",trigger:g.a.createElement("a",{href:r,style:{color:"lightBlue"},target:"_blank",rel:"noopener noreferrer"},"post #",n)}))}));return g.a.createElement(ta,{child:n})},ra=function(e){var t=e.post,n=t.author,a=t.link,r=t.id;return g.a.createElement(g.a.Fragment,null,g.a.createElement(Fe.a,{content:g.a.createElement(Lt,n),popperModifiers:{preventOverflow:{boundariesElement:"window"}},position:"top center",trigger:g.a.createElement("a",{href:n.profile,style:{color:"orange"},target:"_blank",rel:"noopener noreferrer"},n.name)})," ","made"," ",g.a.createElement(Fe.a,{content:g.a.createElement(na,{post:t}),popperModifiers:{preventOverflow:{boundariesElement:"window"}},position:"top center",trigger:g.a.createElement("a",{href:a,style:{color:"lightBlue"},target:"_blank",rel:"noopener noreferrer"},"post #",r)}))},ca=function(e,t){return Object.keys(e).reduce((function(n,a,r){switch(a){case m.array:var c=e[a],i=g.a.createElement($n,{key:r,array:c,newest:!!t});return n.push(i),n;case m.error:var o=g.a.createElement(Jn,{key:r,newest:!!t,error:e[a]});return n.push(o),n;case m.instructions:var s=g.a.createElement(aa,{key:r,instructions:e[a]});return n.push(s),n;case m.link:var u=g.a.createElement("a",{key:r,href:e[a],style:{color:"lightBlue"},target:"_blank",rel:"noopener noreferrer"},"Link");return n.push(u),n;case m.post:var l=g.a.createElement(ra,{post:e[a]});return n.push(l),n;case m.setting:var d,p=e[a],h=Object.keys(p)[0],f=g.a.createElement("span",{key:r,style:{color:"pink"}},h," is ",null===(d=e[a][h])||void 0===d?void 0:d.toString());return n.push(f),n;case m.text:return n.push(g.a.createElement("span",{key:r},e[a])),n;case m.threads:var b=e[a],v=null===b||void 0===b?void 0:b.map((function(e){if(e){var t=e.name,n=e.link,a=e.title;return g.a.createElement("div",null,g.a.createElement("a",{href:n,style:{color:"lightBlue"},target:"_blank",rel:"noopener noreferrer"},t||a))}})),E=g.a.createElement($n,{key:r,array:v,newest:!!t});return n.push(E),n;case m.timeLeft:var y=jn(e[a]),k=y.minutes,O=y.seconds,j="".concat(k,":").concat(O<10?"0":"").concat(O),w=g.a.createElement("span",null,"Time until next bot run: ",j);return n.push(w),n;default:var x=e[a],C="object"===typeof x?Array.isArray(x)?g.a.createElement($n,{array:x,newest:!!t}):g.a.createElement(ea,{object:x,newest:!!t}):x,I=g.a.createElement("span",{key:r},a,": ",C);n.push(I)}return n}),[])};var ia=function(e){var t=e.event,n=e.newest,a=t.data,r=t.text,c=function(){if(!a&&r)return r;if("object"===typeof a){!function(e){if("object"!==typeof e)throw new Error("data is not a KeyStringInterface")}(a);var e=ca(a,n);return g.a.createElement(g.a.Fragment,null,e)}}(),i=new Date(t.time),o=i&&"".concat((i.getHours()<10?"0":"")+i.getHours(),":").concat((i.getMinutes()<10?"0":"")+i.getMinutes(),":").concat((i.getSeconds()<10?"0":"")+i.getSeconds(),"> ");return n&&"string"===typeof c&&"..."===c.slice(-3)&&(c=g.a.createElement(g.a.Fragment,null,c.slice(0,-3),g.a.createElement(Zn,null))),g.a.createElement("div",null,i&&g.a.createElement("span",{style:{color:"yellow"}},o),c)},oa=function(){var e=document.getElementById("root"),t=document.createElement("span");t.innerHTML="Hello",null===e||void 0===e||e.appendChild(t);var n=parseInt(window.getComputedStyle(t).fontSize,10);return null===e||void 0===e||e.removeChild(t),n},sa=function(e){var t=e.lines,n=Object(f.useContext)(Qn).events,a=Object(f.useRef)(null);Object(f.useEffect)((function(){var e;null===a||void 0===a||null===(e=a.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})}),[n]);return g.a.createElement(Xe.a,{style:{backgroundColor:"black",color:"lime",height:function(){if(!t)return 250;var e=oa();return e?e*(t+1):250}(),overflow:"auto"}},n?n.map((function(e,t){return g.a.createElement(ia,{event:e,key:t,newest:t===n.length-1})})):g.a.createElement(Et.a,{active:!0}),g.a.createElement("div",{ref:a}))},ua=function(){return g.a.createElement("div",null,g.a.createElement(Xe.a,null,g.a.createElement(sa,null)),g.a.createElement(Xe.a,null,g.a.createElement(Un,null),g.a.createElement(qn,null),g.a.createElement(Xn,null)))},la=function(e){var t=e.threadId,n=e.callback,a=e.checkbox,r=e.input,c=e.labelText,i=e.textArea,o=e.type,s=e.value,u=Object(f.useContext)(Kn).dispatch,l=["threads",t.toString()];return g.a.createElement(ot,{callback:n,checkbox:a,configKeys:l,dispatch:u,dispatchBefore:o&&[{type:o,thread:t}],dispatchOnFailure:o&&[{type:o,thread:t,value:s}],input:r,labelText:c,textArea:i,value:s})},ma=function(e){var t=e.threadId,n=Object(f.useState)(!1),a=Object(O.a)(n,2),r=a[0],c=a[1],i=Object(f.useContext)(Ae),o=i.dispatch,u=i.settings,l=Object(f.useContext)(Qn).dispatch,m=Object(f.useContext)(Kn).threads,d=!!(null===u||void 0===u?void 0:u.running),p=Object(f.useContext)(Ve).actions,h=(null===u||void 0===u?void 0:u.botName)||"",b=null===m||void 0===m?void 0:m.find((function(e){return e.threadId===t})),v=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=5;break}return Z(o),e.next=4,_n({actions:p,botName:h,dispatch:l,thread:b});case 4:o({type:s.setRunning,running:!1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g.a.createElement(g.a.Fragment,null,g.a.createElement(C.a,{color:"blue",onClick:function(){c(!0),!d&&v()}},d?g.a.createElement(Vn,{size:"large"}):g.a.createElement(I.a,{name:"play circle",size:"large"}),d?"Running":"Run Once For This Thread"),r&&g.a.createElement(Xe.a,null,g.a.createElement(C.a,{floated:"right",icon:"close",onClick:function(){return c(!1)}}),g.a.createElement(sa,{lines:6})))},da=function(e){var t,n=e.threadId,a=Object(f.useContext)(Kn),r=(a.dispatch,a.threads),c=(null===r||void 0===r||null===(t=r.find((function(e){return e.threadId===n})))||void 0===t?void 0:t.pages)||0,i=Object(f.useState)(void 0),o=Object(O.a)(i,2),s=o[0],u=o[1];return g.a.createElement("div",{style:{marginTop:10,marginBottom:10}},g.a.createElement(Me.a,{size:"large",content:"Set Last Read Page: "}),g.a.createElement("input",{value:s,onChange:function(e){var t=e.target.value;if(t){var n=Number(t.replace(/\D/,""));u(n)}else u(void 0)}}),g.a.createElement(C.a,{disabled:!s||s>c,onClick:Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s,!e.t0){e.next=5;break}return e.next=4,ve({page:s,threadId:n});case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))},"Go"))},pa=function(){return g.a.createElement(Xe.a,null,g.a.createElement(j.a,null,"No Thread Selected"),"The bot will automatically grab all threads that are bookmarked by the assigned SA forums account.",g.a.createElement("br",null),"If you want the bot to watch a thread, log in to SA and bookmark the thread.",g.a.createElement("br",null),"If you want the bot to stop watching a thread, you can use the unbookmark thread button in this control panel.",g.a.createElement("br",null),"You can also log in to SA and unbookmark the thread.",g.a.createElement("br",null))},ha=function(){var e=Object(f.useContext)(Kn),t=e.dispatch,n=e.thread,a=e.threads,r=null===a||void 0===a?void 0:a.find((function(e){return(null===e||void 0===e?void 0:e.threadId)===n}));if(!r)return g.a.createElement(pa,null);var c=r.bookmarked,i=r.link,o=r.name,s=r.pages,u=r.threadId,l=r.title,m=r.unreadPosts,d={marginTop:10,marginBottom:10};return g.a.createElement(g.a.Fragment,null,g.a.createElement(j.a,{as:"h2"},o||l),g.a.createElement("div",{style:d},g.a.createElement(Me.a,{size:"large",content:"threadId:"})," ",g.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},u)),g.a.createElement("div",{style:d},g.a.createElement(ma,{threadId:u})),g.a.createElement(la,{callback:Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=4;break}e.t0=fe({dispatch:t,threadId:u}),e.next=7;break;case 4:return e.next=6,be({dispatch:t,threadId:u});case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)}))),checkbox:!0,input:"bookmarked",threadId:u,value:c}),"Forums thread titles can change. ",g.a.createElement("br",null),"You can add your own custom name to a thread. ",g.a.createElement("br",null),"The thread name will appear in the control panel and the log. ",g.a.createElement("br",null),g.a.createElement(la,{threadId:u,input:"name",type:h.setName,value:o}),g.a.createElement("div",{style:d},g.a.createElement(Me.a,{size:"large",content:"Title:"})," ",l),g.a.createElement("div",{style:d},g.a.createElement(Me.a,{size:"large",content:"Pages:"})," ",s||"???"),g.a.createElement("div",{style:d},g.a.createElement(Me.a,{size:"large",content:"Unread Posts:"})," ",void 0!==m?m:"???"),s&&g.a.createElement("div",null,"You can set the last page that the bot has read. ",g.a.createElement("br",null),"The bot will only scan posts after the last page it has read."),s&&g.a.createElement(da,{threadId:u}))},fa=function(e){var t=e.bookmarked,n=e.labelColor,a=e.name,r=e.selectThread,c=e.title,i=e.unreadPosts;return g.a.createElement("div",{style:{cursor:"pointer",padding:10},onClick:r},g.a.createElement(Fe.a,{disabled:!a,content:c,trigger:g.a.createElement(Me.a,{color:n},a||c)}),t&&g.a.createElement(Me.a,{color:i?"blue":void 0,content:i}))},ga=function(){var e=Object(f.useContext)(Kn),t=e.dispatch,n=e.thread,a=e.threads;return a?g.a.createElement(g.a.Fragment,null,a.map((function(e,a){var r=e.bookmarked,c=e.name,i=e.title,o=e.threadId,s=e.unreadPosts,u=o===n?"green":r?"blue":void 0;return g.a.createElement(fa,{key:a,selectThread:function(){return t({type:h.currentThread,threadId:o})},bookmarked:r,name:c,title:i,labelColor:u,unreadPosts:s})}))):g.a.createElement("div",null,"No threads")},ba=function(){var e=Object(f.useContext)(Kn),t=e.dispatch,n=e.fetching,a=e.threads;return g.a.createElement(Xe.a,null,g.a.createElement(Ze.a,{columns:2,divided:!0},g.a.createElement(Ze.a.Column,{width:4},g.a.createElement(j.a,{as:"h2",onClick:function(){return t({type:h.currentThread,threadId:0})},style:{cursor:"pointer"}},"Threads"," ",g.a.createElement(C.a,{disabled:n,onClick:function(e){e.stopPropagation(),ye({dispatch:t,threads:a||[]})},floated:"right",icon:"refresh"})),g.a.createElement(ga,null)),g.a.createElement(Ze.a.Column,{width:12},g.a.createElement(ha,null))))},va=[{menuItem:"Controls",render:function(){return g.a.createElement(He.a.Pane,null,g.a.createElement(ua,null))}},{menuItem:"Threads",render:function(){return g.a.createElement(He.a.Pane,null,g.a.createElement(ba,null))}},{menuItem:"Credentials",render:function(){return g.a.createElement(He.a.Pane,null,g.a.createElement(On,null))}},{menuItem:"Actions",render:function(){return g.a.createElement(He.a.Pane,null,g.a.createElement(xt,null))}},{menuItem:"Image Albums",render:function(){return g.a.createElement(He.a.Pane,null,g.a.createElement(Xt,null))}},{menuItem:"APIs",render:function(){return g.a.createElement(He.a.Pane,null,g.a.createElement(fn,null))}}],Ea=function(){var e=Object(f.useContext)(Qn),t=e.dispatch,n=e.listening,a=Object(f.useContext)(Kn).threads,r=Object(f.useContext)(Ae).settings,c=r.interval,i=r.on,o=r.running;return Object(f.useEffect)((function(){n||(t({type:l.setListening,listening:!0}),t({type:l.addEvent,event:Pn("api started")}),t({type:l.addEvent,event:{time:Date(),data:{setting:{interval:c}}}}),t({type:l.addEvent,event:{time:Date(),data:{setting:{on:i}}}}),t({type:l.addEvent,event:{time:Date(),data:{setting:{running:o}}}}))}),[n,t,c,i,o]),Object(f.useEffect)((function(){if(a&&a.length){var e=a?"Watching ".concat(a.length," thread").concat(1===a.length?"":"s"):"Not Watching any threads";t({type:l.addEvent,event:{time:Date(),data:{text:e,threads:a}}})}}),[t,a]),g.a.createElement(g.a.Fragment,null,g.a.createElement(We.a,null,"Welcome to the control panel. This example pulls some information from the forums but isn't actually hooked up to an instance of the bot. ",g.a.createElement("br",null),"Most of the controls will work. ",g.a.createElement("br",null),"Try clicking the 'run once' button to see how it looks when the bot runs and responds to posts."),g.a.createElement(He.a,{panes:va}))},ya=n(769),ka=function(e){var t=e.input,n=e.name,a=e.addChildren,r=e.forceOpen,c=Object(f.useState)(!!r),i=Object(O.a)(c,2),o=i[0],s=i[1],u=g.a.useRef(null),l=mt(u),m=g.a.createElement("div",{onClick:function(e){return!r&&s(!1)}},g.a.createElement(lt,{key:"markdown",escapeHtml:!1,source:t,maxWidth:l})),d=t.split(/\r?\n/)[0].replace("#","").trim(),p=g.a.createElement("div",{onClick:function(e){e.preventDefault(),s(!0)}},g.a.createElement(j.a,{as:"h3"},d||n)),h=[o?m:p];o&&(null===a||void 0===a||a.forEach((function(e,t){return h.push(Object(A.a)(Object(A.a)({},e),{},{key:t.toString()}))})));var b=r?ht:Object(A.a)(Object(A.a)({},ht),{},{cursor:"pointer"});return g.a.createElement("div",{ref:u,style:b},g.a.createElement(Xe.a,{children:h}))},Oa=function(){var e=Object(f.useContext)(Pe).botName,t=Object(f.useContext)(Kn).threads,n=oa(),a=n?6*n:100,r=!(null===t||void 0===t?void 0:t.length),c=1===(null===t||void 0===t?void 0:t.length);return g.a.createElement(Xe.a,null,g.a.createElement(j.a,{as:"h2"},e," is currently ",r?"not ":"","watching"," ",r?"any ":null===t||void 0===t?void 0:t.length," thread",c?"":"s"),g.a.createElement("div",{style:{maxHeight:a,overflow:"auto"}},null===t||void 0===t?void 0:t.map((function(e,t){return g.a.createElement("div",{key:t},g.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.title))}))))},ja=function(e){var t,n,a=e.album,r=e.input,c=e.triggers,i=g.a.useRef(null),o=mt(i);a&&(r=null===(n=r)||void 0===n?void 0:n.replace(/\${album}/g,a));return g.a.createElement(Xe.a,null,(null===(t=r)||void 0===t?void 0:t.length)?g.a.createElement("div",{ref:i},g.a.createElement(lt,{key:"markdown",escapeHtml:!1,source:r,maxWidth:o})," "):g.a.createElement(g.a.Fragment,null,g.a.createElement(j.a,{as:"h4"},"No example given to match regular expression trigger"),c.filter((function(e){return e instanceof RegExp})).map((function(e,t){return g.a.createElement("div",{key:t,style:ht},g.a.createElement(Me.a,{color:"blue"},"RegExp")," ",e.toString())}))))},wa=function(e){var t=e.trigger,n=Object(f.useContext)(Pe).botName;return g.a.createElement(Xe.a,null,n," ",t.toString())},xa=function(e){var t=e.example,n=e.triggers,a=n.some((function(e){return e instanceof RegExp}));return n.length?g.a.createElement(Xe.a,null,g.a.createElement(j.a,{as:"h3"},"How to trigger this action"),g.a.createElement("div",{style:ht},n.map((function(e,t){return!(e instanceof RegExp)&&g.a.createElement(wa,{key:t,trigger:e})}))),a&&g.a.createElement(ja,{input:t,triggers:n})):g.a.createElement(Xe.a,null,g.a.createElement(j.a,{as:"h2"},"No triggers set for this action"))},Ca=function(e){var t=e.album,n=e.description,a=e.example,r=e.triggers,c=Object(f.useContext)(Pe).botName,i=r.some((function(e){return e instanceof RegExp})),o=r.filter((function(e){return!(e instanceof RegExp)})).map((function(e,n){return g.a.createElement(Xe.a,{key:n},g.a.createElement("div",null,c," ",e," ",t))}));return g.a.createElement(g.a.Fragment,null,g.a.createElement(j.a,{as:"h4"},t," ",n?"- ".concat(n):""),i&&g.a.createElement(ja,{album:t,input:a,triggers:r}),o)},Ia=function(e){var t=e.actionInstruction,n=Object(f.useContext)(Pe).albums,a=t.example,r=t.instructions,c=t.key,i=t.name,o=t.triggers,s=n.length?n.map((function(e,t){var n=e.album,r=e.description;return g.a.createElement(Ca,{key:t,album:n,description:r,example:a,triggers:o})})):[g.a.createElement(Ca,{key:"placeholder",album:"placeHolder",description:"This bot has no active albums. This placeholder is here as an example",example:a,triggers:o})];return g.a.createElement(ka,{addChildren:s,input:r||"",key:c,name:i})},Aa=function(){var e=Object(f.useContext)(Pe).actions,t=e.filter((function(e){return e.albums})),n=e.filter((function(e){return!e.albums}));return g.a.createElement(Xe.a,null,g.a.createElement(j.a,{as:"h2"},"Actions - click for description"),t.map((function(e){return g.a.createElement(Ia,{actionInstruction:e})})),null===n||void 0===n?void 0:n.map((function(e){var t=e.example,n=e.instructions,a=e.key,r=e.name,c=e.triggers;return g.a.createElement(ka,{input:n||"",key:a,name:r,addChildren:[g.a.createElement(xa,{example:t,triggers:c})]})})))},Ta=function(){var e=Object(f.useContext)(Pe),t=e.dispatch,n=e.actions,a=e.bot,r=e.done,c=e.fetching,i=e.failed,o=e.general;return Object(f.useEffect)((function(){!c&&!r&&!i&&se(t)}),[n,t,r,i,c]),!n&&c?g.a.createElement(Et.a,{active:!0}):!n&&r?g.a.createElement(We.a,{warning:!0},"Failed to load Instructions"):g.a.createElement(g.a.Fragment,null,g.a.createElement(We.a,null,"This is an example of how the forums bot control panel looks. Click the cog icon ",g.a.createElement(I.a,{name:"cog"})," in the upper left to see the control panel."),g.a.createElement(Ze.a,null,g.a.createElement(Ze.a.Column,{width:3},a&&g.a.createElement(Lt,a)),g.a.createElement(Ze.a.Column,{width:13},g.a.createElement(ya.a,null,o?g.a.createElement(g.a.Fragment,null,g.a.createElement(ka,{name:"",input:o,forceOpen:!0}),g.a.createElement(Oa,null),g.a.createElement(Aa,null)):g.a.createElement(Et.a,{active:!0})))))},Sa=function(e){return g.a.createElement(qe,null,g.a.createElement(en,null,g.a.createElement(Tt,null,g.a.createElement(Te,null,g.a.createElement(Gn,null,g.a.createElement(Be,null,g.a.createElement(P,null,g.a.createElement(Hn,e))))))))},Na=function(){var e=localStorage.getItem("token");return e?new Headers({Accept:"application/json",Authorization:"Bearer "+e,"Content-Type":"application/json"}):void 0},Pa=n(368),Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e=Math.ceil(e),(t=Math.floor(t))<e&&(t=e+1),Math.floor(Math.random()*(t-e+1))+e},Da=function(){var e=Object(k.a)(y.a.mark((function e(){var t,n,a,r,c,i,o,s,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://forums.somethingawful.com","https://forums.somethingawful.com/forumdisplay.php?forumid=273&daysprune=1000&perpage=40&posticon=0&sortorder=desc&sortfield=lastpost&pagenumber=2",e.next=4,fetch("https://cors-anywhere.herokuapp.com/https://forums.somethingawful.com/forumdisplay.php?forumid=273&daysprune=1000&perpage=40&posticon=0&sortorder=desc&sortfield=lastpost&pagenumber=2");case 4:return n=e.sent,e.next=7,n.text();case 7:for(a=e.sent,r=Pa.load(a),c=r(".thread").map((function(e,n){var a,c=r(n).find(".thread_title"),i=r(c).text(),o="".concat(t,"/").concat(r(c).attr("href")),s=Number(null===(a=c.attr("href"))||void 0===a?void 0:a.split("=")[1]);if(!isNaN(s)){var u=r(n).find(".pagenumber"),l=Number("last post"===r(u[u.length-1]).text().toLowerCase()?r(u[u.length-2]).text():r(u[u.length-1]).text()),m=Ba(0,3);return{bookmarked:!0,link:o,title:i,threadId:s,pages:l||1,unreadPosts:m?40*(m-1)+Ba(0,40):Ba(0,40)}}})).toArray(),i=[],o=Ba(2,5),s=0;s<o;s++)u=c.splice(Ba(0,c.length),1)[0],i.push(u);return console.log(i),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(f.useContext)(N),t=e.isLoggedIn,n=e.dispatch,a=Object(f.useContext)(Kn).dispatch,i=Object(f.useContext)(At).dispatch,o=Object(f.useState)(!1),s=Object(O.a)(o,2),u=s[0],l=s[1],m=Object(f.useCallback)(Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Na(),n(t?{type:p.success}:{type:p.logout});case 2:case"end":return e.stop()}}),e)}))),[n]),d=Object(f.useCallback)(Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da();case 2:t=e.sent,a({type:h.setThreads,threads:t});case 4:case"end":return e.stop()}}),e)}))),[a]),b=Object(f.useCallback)(Object(k.a)(y.a.mark((function e(){var t,n,a,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In();case 2:t=e.sent,n=function(){return t[An(0,9)]},o=[(a=function(e,t){return{album:e,hash:An(),image:t,submittedAt:Date(),submittedBy:n(),status:c.pending}})("Schnorkles","http://www.fulltable.com/VTS/p/pr/l/im/74.jpg"),a("Schnorkles","https://pbs.twimg.com/profile_images/722643164478234624/l4N8ZoOx_400x400.jpg"),a("Snoo","https://img0.etsystatic.com/136/0/10948157/il_340x270.1032580150_snoo.jpg"),a("Corn","https://i.imgur.com/mWW6MMf.jpg"),a("Corn","https://i.imgur.com/fV6OKlN.jpg")],i({type:r.setImageQueue,imageQueue:o});case 7:case"end":return e.stop()}}),e)}))),[]);return Object(f.useEffect)((function(){u||(l(!0),d(),m(),b())}),[u,d,l,m]),g.a.createElement(g.a.Fragment,null,g.a.createElement(Ke,null),g.a.createElement(ya.a,{text:!t},t?g.a.createElement(Ea,null):g.a.createElement(Ta,null)))},Ra=function(){return g.a.createElement(Sa,null,g.a.createElement(Fa,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));v.a.render(g.a.createElement(g.a.StrictMode,null,g.a.createElement(Ra,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[381,1,2]]]);
//# sourceMappingURL=main.696166dc.chunk.js.map